<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>RAG on Pan Binghong's Tech Blog</title><link>https://Pan-Binghong.github.io/daily-learning/tags/rag/</link><description>Recent content in RAG on Pan Binghong's Tech Blog</description><generator>Hugo -- 0.155.3</generator><language>zh-CN</language><lastBuildDate>Mon, 02 Dec 2024 01:20:00 +0000</lastBuildDate><atom:link href="https://Pan-Binghong.github.io/daily-learning/tags/rag/index.xml" rel="self" type="application/rss+xml"/><item><title>è®ºæ–‡ç²¾è¯»_å¯»æ‰¾RAGæœ€ä¼˜ç­–ç•¥</title><link>https://Pan-Binghong.github.io/daily-learning/knowledge/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB_%E5%AF%BB%E6%89%BErag%E6%9C%80%E4%BC%98%E7%AD%96%E7%95%A5/</link><pubDate>Thu, 28 Nov 2024 07:08:00 +0000</pubDate><guid>https://Pan-Binghong.github.io/daily-learning/knowledge/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB_%E5%AF%BB%E6%89%BErag%E6%9C%80%E4%BC%98%E7%AD%96%E7%95%A5/</guid><description>&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ è¿™ç¯‡çœŸçš„å…¨æ˜¯å¹²è´§â€¦è®ºæ–‡çš„å®éªŒéƒ¨åˆ†ï¼Œæˆ‘å°±ä¸å†™äº†ã€‚çœ‹çœ‹å°±è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/78127f49-5326-457b-85b3-9e146b9c399f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB46636GT4HUU%2F20260211%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260211T034958Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCVKzou5RiORfXBRyFq%2FoCcFhlsEYH41uIoB%2BA6lLwlMgIhALWJYR2eb368Ntay1yopgh4G94Dr1%2BGt1GefIxExJmSzKogECLP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx%2FETo0jBIzhG5HNsQq3AOyQ2sRHfw2ZWS0L%2FIf%2FleESuWwDt6zGxxDNK%2BdI5ZM%2FuPWPv272myiQCa7d%2FIVP0MluERmsnJp7BTz%2Bnp6XNdsr3RLc6%2Bl2%2FBGZ2OfRjQKBRnflrTIr2CRd7IlBarfpF%2Fcj82a6%2BGpJRtxxEs5kNl7xIksE7RdxcpmNNJiG6BxqHt5dAH7F9%2Fr%2F7i0LGtRFF9X%2FgCKqAprW5Eq8ZwMxLfTOJv4T6WjSlf1WLRWx4o82IkU0M85bcWUbrqoUg%2BPSry4eBxPw%2FDsCJjXg1aJa4MUJ7okkUJkPw0wmC4w8oqUwKnJIMDFQs6I1leb9j9cKOUPSF2TQblAhTBeePfI9FNN4sHOOeaGPXKaLR3uy%2FMmth0nwZxuEoOPnORGQIZ8La2gAFDxMk6N885Rv8aM4Euw64%2FLzVwzlstzDt023C0RtYNzuIsRTazH93hQf5rmczsgXxpYEVKWrCiQGmnK2B1pONKzUeUfnrHIiJalA%2BeTUuFW0FDnahDm3wHQ0Wo2Irz8u7sqHNnP91vxBMsox4Y91mUEYwIkW%2F3fMlCaMoGvxyIJ4gpHiAMgHl8unBRKXsQS47gU68j3O3AawAT74n7V4gy0oXY4RZoYwhuhco9Wetpt4RvAXrJ4TthWoTD8yq%2FMBjqkAaVKl%2FHIva1JSYiHf1jysFB%2Bx0SQttPY5nje9e34chy3EV9L83e4GVyfJtRAwUJFxiVCYP3M5Iv6aCoyWRo%2B%2F9KFEvdISfJQNpWTF%2FiczplRQe0NFbv1b%2F2ZHZQUiXWDd1o4BoptHixndU1%2BIQyp9S68SfO0t7em6JMsIm5SmNj12jFpqeIn8DJpSaqT7Ayqb698Uwf%2B191WnTfcbCRFz8BHkSiP&amp;X-Amz-Signature=52e455f42bbffbaf442ffcb4a56b83e00d869b7994c77d5c4effd68f66b6af30&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ç›¸å…³å·¥ä½œæŸ¥è¯¢æ£€ç´¢å±‚é¢"&gt;ç›¸å…³å·¥ä½œ|æŸ¥è¯¢æ£€ç´¢å±‚é¢&lt;/h2&gt;
&lt;p&gt;ç¡®ä¿å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å¦‚ChatGPTå’ŒLLaMAç”Ÿæˆçš„å›åº”å‡†ç¡®æ€§è‡³å…³é‡è¦ã€‚ç„¶è€Œï¼Œç®€å•åœ°å¢åŠ æ¨¡å‹å¤§å°å¹¶ä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³â€œå¹»è§‰â€é—®é¢˜ï¼Œè¿™åœ¨çŸ¥è¯†å¯†é›†å‹ä»»åŠ¡å’Œä¸“ä¸šé¢†åŸŸå°¤ä¸ºæ˜æ˜¾ã€‚æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰é€šè¿‡ä»å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢ç›¸å…³æ–‡æ¡£ï¼Œä¸ºLLMsæä¾›å‡†ç¡®ã€å®æ—¶ã€é¢†åŸŸç‰¹å®šçš„ä¸Šä¸‹æ–‡ï¼Œä»¥è§£å†³è¿™äº›æŒ‘æˆ˜ã€‚å…ˆå‰çš„å·¥ä½œé€šè¿‡æŸ¥è¯¢å’Œæ£€ç´¢è½¬æ¢ä¼˜åŒ–äº†RAGæµç¨‹ï¼Œæé«˜äº†æ£€ç´¢å™¨çš„æ€§èƒ½ï¼Œå¹¶å¯¹æ£€ç´¢å™¨å’Œç”Ÿæˆå™¨è¿›è¡Œäº†å¾®è°ƒã€‚è¿™äº›ä¼˜åŒ–æ”¹å–„äº†è¾“å…¥æŸ¥è¯¢ã€æ£€ç´¢æœºåˆ¶ä¸ç”Ÿæˆè¿‡ç¨‹ä¹‹é—´çš„äº’åŠ¨ï¼Œç¡®ä¿äº†å›åº”çš„å‡†ç¡®æ€§å’Œç›¸å…³æ€§ã€‚&lt;/p&gt;
&lt;h2 id="ragå·¥ä½œæµ"&gt;RAGå·¥ä½œæµ&lt;/h2&gt;
&lt;p&gt;åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»RAGå·¥ä½œæµç¨‹çš„å„ä¸ªç»„ä»¶ã€‚é’ˆå¯¹æ¯ä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬å›é¡¾å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¹¶ä¸ºæˆ‘ä»¬çš„æœ€ç»ˆæµç¨‹é€‰æ‹©äº†é»˜è®¤å’Œå¤‡é€‰æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id="æŸ¥è¯¢åˆ†ç±»"&gt;æŸ¥è¯¢åˆ†ç±»&lt;/h3&gt;
&lt;p&gt;å¹¶éæ‰€æœ‰çš„æŸ¥è¯¢éƒ½éœ€è¦é€šè¿‡æ£€ç´¢å¢å¼ºï¼Œå› ä¸ºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰æœ¬èº«å°±å…·å¤‡ä¸€å®šçš„å¤„ç†èƒ½åŠ›ã€‚å°½ç®¡æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰å¯ä»¥æé«˜ä¿¡æ¯çš„å‡†ç¡®æ€§å¹¶å‡å°‘è™šæ„å†…å®¹ï¼Œä½†é¢‘ç¹çš„æ£€ç´¢å¯èƒ½ä¼šå¢åŠ å“åº”æ—¶é—´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡å¯¹æŸ¥è¯¢è¿›è¡Œåˆ†ç±»æ¥ç¡®å®šæ˜¯å¦éœ€è¦æ£€ç´¢ã€‚éœ€è¦æ£€ç´¢çš„æŸ¥è¯¢ä¼šç»è¿‡RAGæ¨¡å—å¤„ç†ï¼›å…¶ä»–åˆ™ç›´æ¥ç”±LLMså¤„ç†ã€‚é€šå¸¸ï¼Œåœ¨éœ€è¦è¶…å‡ºæ¨¡å‹å‚æ•°èŒƒå›´çš„çŸ¥è¯†æ—¶æ¨èä½¿ç”¨æ£€ç´¢ã€‚ç„¶è€Œï¼Œæ£€ç´¢çš„å¿…è¦æ€§æ ¹æ®ä»»åŠ¡çš„ä¸åŒè€Œæœ‰æ‰€å˜åŒ–ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè®­ç»ƒè‡³2023å¹´çš„LLMå¯ä»¥å¤„ç†â€œSoraæ˜¯ç”±OpenAIå¼€å‘çš„â€è¿™ä¸€ç¿»è¯‘è¯·æ±‚è€Œæ— éœ€æ£€ç´¢ã€‚ç›¸åï¼Œå¯¹äºåŒä¸€ä¸»é¢˜çš„ä»‹ç»è¯·æ±‚åˆ™éœ€è¦æ£€ç´¢æ¥æä¾›ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®æŒ‰ç±»å‹å¯¹ä»»åŠ¡è¿›è¡Œåˆ†ç±»ï¼Œä»¥ç¡®å®šæŸ¥è¯¢æ˜¯å¦éœ€è¦æ£€ç´¢ã€‚å¯¹äºå®Œå…¨åŸºäºç”¨æˆ·æä¾›ä¿¡æ¯çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬æ ‡è®°ä¸ºâ€œå……åˆ†â€ï¼Œä¸éœ€è¦æ£€ç´¢ï¼›å¦åˆ™ï¼Œæˆ‘ä»¬æ ‡è®°ä¸ºâ€œä¸è¶³â€ï¼Œå¯èƒ½éœ€è¦æ£€ç´¢ã€‚æˆ‘ä»¬è®­ç»ƒäº†ä¸€ä¸ªåˆ†ç±»å™¨æ¥è‡ªåŠ¨åŒ–è¿™ä¸€å†³ç­–è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="chunking"&gt;Chunking&lt;/h3&gt;
&lt;p&gt;å°†æ–‡æ¡£åˆ†å—æˆæ›´å°çš„æ®µè½å¯¹äºæé«˜æ£€ç´¢çš„å‡†ç¡®æ€§å’Œé¿å…åœ¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ä¸­å‡ºç°é•¿åº¦é—®é¢˜è‡³å…³é‡è¦ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥åœ¨ä¸åŒçš„ç²’åº¦çº§åˆ«ä¸Šåº”ç”¨ï¼Œæ¯”å¦‚ä»¤ç‰Œï¼ˆtokenï¼‰ã€å¥å­å’Œè¯­ä¹‰çº§åˆ«ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¤ç‰Œçº§åˆ«çš„åˆ†å—å¾ˆç›´æ¥ï¼Œä½†å¯èƒ½ä¼šåˆ†å‰²å¥å­ï¼Œå½±å“æ£€ç´¢è´¨é‡ã€‚&lt;/li&gt;
&lt;li&gt;è¯­ä¹‰çº§åˆ«çš„åˆ†å—åˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹æ¥ç¡®å®šåˆ†å‰²ç‚¹ï¼Œèƒ½ä¿æŒä¸Šä¸‹æ–‡ä¸å˜ï¼Œä½†æ˜¯è€—æ—¶ã€‚&lt;/li&gt;
&lt;li&gt;å¥å­çº§åˆ«çš„åˆ†å—åœ¨ä¿ç•™æ–‡æœ¬è¯­ä¹‰çš„åŒæ—¶ï¼Œå¹³è¡¡äº†ç®€å•æ€§å’Œæ•ˆç‡ã€‚
åœ¨è¿™é¡¹ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¥å­çº§åˆ«çš„åˆ†å—ï¼Œå¹³è¡¡äº†ç®€å•æ€§å’Œè¯­ä¹‰ä¿ç•™ã€‚æˆ‘ä»¬ä»å››ä¸ªç»´åº¦è€ƒå¯Ÿäº†åˆ†å—æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‘é‡æ•°æ®åº“å­˜å‚¨ç€å¸¦æœ‰å…ƒæ•°æ®çš„åµŒå…¥å‘é‡ï¼Œé€šè¿‡å„ç§ç´¢å¼•å’Œè¿‘ä¼¼æœ€è¿‘é‚»ï¼ˆANNï¼‰æ–¹æ³•ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°æ£€ç´¢ä¸æŸ¥è¯¢ç›¸å…³çš„æ–‡æ¡£ã€‚ä¸ºäº†ä¸ºæˆ‘ä»¬çš„ç ”ç©¶é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å‘é‡æ•°æ®åº“ï¼Œæˆ‘ä»¬åŸºäºå››ä¸ªå…³é”®æ ‡å‡†å¯¹å‡ ä¸ªé€‰é¡¹è¿›è¡Œäº†è¯„ä¼°ï¼šå¤šç§ç´¢å¼•ç±»å‹ã€æ”¯æŒåäº¿çº§åˆ«çš„å‘é‡ã€æ··åˆæœç´¢ä»¥åŠäº‘åŸç”Ÿèƒ½åŠ›ã€‚è¿™äº›æ ‡å‡†å› å…¶å¯¹äºçµæ´»æ€§ã€å¯æ‰©å±•æ€§ä»¥åŠåœ¨ç°ä»£äº‘åŸºç¡€è®¾æ–½ä¸­éƒ¨ç½²çš„ä¾¿æ·æ€§çš„å½±å“è€Œè¢«é€‰ä¸­ã€‚å¤šç§ç´¢å¼•ç±»å‹æä¾›äº†åŸºäºä¸åŒæ•°æ®ç‰¹æ€§å’Œç”¨ä¾‹ä¼˜åŒ–æœç´¢çš„çµæ´»æ€§ã€‚åäº¿çº§åˆ«çš„å‘é‡æ”¯æŒå¯¹äºå¤„ç†LLMåº”ç”¨ä¸­çš„å¤§å‹æ•°æ®é›†è‡³å…³é‡è¦ã€‚æ··åˆæœç´¢å°†å‘é‡æœç´¢ä¸ä¼ ç»Ÿå…³é”®è¯æœç´¢ç»“åˆèµ·æ¥ï¼Œæé«˜äº†æ£€ç´¢å‡†ç¡®æ€§ã€‚æœ€åï¼Œäº‘åŸç”Ÿèƒ½åŠ›ç¡®ä¿äº†åœ¨äº‘ç¯å¢ƒä¸­çš„æ— ç¼é›†æˆã€å¯æ‰©å±•æ€§å’Œç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/2c4ac03c-4cd8-4e84-aa5e-b0d35bd8c0fa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB46636GT4HUU%2F20260211%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260211T034958Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCVKzou5RiORfXBRyFq%2FoCcFhlsEYH41uIoB%2BA6lLwlMgIhALWJYR2eb368Ntay1yopgh4G94Dr1%2BGt1GefIxExJmSzKogECLP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx%2FETo0jBIzhG5HNsQq3AOyQ2sRHfw2ZWS0L%2FIf%2FleESuWwDt6zGxxDNK%2BdI5ZM%2FuPWPv272myiQCa7d%2FIVP0MluERmsnJp7BTz%2Bnp6XNdsr3RLc6%2Bl2%2FBGZ2OfRjQKBRnflrTIr2CRd7IlBarfpF%2Fcj82a6%2BGpJRtxxEs5kNl7xIksE7RdxcpmNNJiG6BxqHt5dAH7F9%2Fr%2F7i0LGtRFF9X%2FgCKqAprW5Eq8ZwMxLfTOJv4T6WjSlf1WLRWx4o82IkU0M85bcWUbrqoUg%2BPSry4eBxPw%2FDsCJjXg1aJa4MUJ7okkUJkPw0wmC4w8oqUwKnJIMDFQs6I1leb9j9cKOUPSF2TQblAhTBeePfI9FNN4sHOOeaGPXKaLR3uy%2FMmth0nwZxuEoOPnORGQIZ8La2gAFDxMk6N885Rv8aM4Euw64%2FLzVwzlstzDt023C0RtYNzuIsRTazH93hQf5rmczsgXxpYEVKWrCiQGmnK2B1pONKzUeUfnrHIiJalA%2BeTUuFW0FDnahDm3wHQ0Wo2Irz8u7sqHNnP91vxBMsox4Y91mUEYwIkW%2F3fMlCaMoGvxyIJ4gpHiAMgHl8unBRKXsQS47gU68j3O3AawAT74n7V4gy0oXY4RZoYwhuhco9Wetpt4RvAXrJ4TthWoTD8yq%2FMBjqkAaVKl%2FHIva1JSYiHf1jysFB%2Bx0SQttPY5nje9e34chy3EV9L83e4GVyfJtRAwUJFxiVCYP3M5Iv6aCoyWRo%2B%2F9KFEvdISfJQNpWTF%2FiczplRQe0NFbv1b%2F2ZHZQUiXWDd1o4BoptHixndU1%2BIQyp9S68SfO0t7em6JMsIm5SmNj12jFpqeIn8DJpSaqT7Ayqb698Uwf%2B191WnTfcbCRFz8BHkSiP&amp;X-Amz-Signature=4658c17797f107da7ad8f3f61291961f0c6634911c33d25edab5f2460d78bf9f&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="retrievalæ–¹å¼"&gt;Retrievalæ–¹å¼&lt;/h3&gt;
&lt;p&gt;é’ˆå¯¹ç”¨æˆ·æŸ¥è¯¢ï¼Œæ£€ç´¢æ¨¡å—ä»é¢„å»ºçš„è¯­æ–™åº“ä¸­é€‰æ‹©ä¸æŸ¥è¯¢å’Œæ–‡æ¡£çš„ç›¸ä¼¼åº¦æœ€é«˜çš„å‰kä¸ªç›¸å…³æ–‡æ¡£ã€‚ç„¶åï¼Œç”Ÿæˆæ¨¡å‹ä½¿ç”¨è¿™äº›æ–‡æ¡£æ¥åˆ¶å®šé’ˆå¯¹æŸ¥è¯¢çš„é€‚å½“å“åº”ã€‚ç„¶è€Œï¼ŒåŸå§‹æŸ¥è¯¢ç”±äºè¡¨è¾¾ä¸ä½³å’Œç¼ºä¹è¯­ä¹‰ä¿¡æ¯ï¼Œé€šå¸¸ä¼šè¡¨ç°ä¸ä½³ï¼Œè¿™å¯¹æ£€ç´¢è¿‡ç¨‹äº§ç”Ÿäº†è´Ÿé¢å½±å“ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬è¯„ä¼°äº†ä¸‰ç§æŸ¥è¯¢è½¬æ¢æ–¹æ³•ï¼Œä½¿ç”¨æ¨èçš„LLM-Embedderä½œä¸ºæŸ¥è¯¢å’Œæ–‡æ¡£ç¼–ç å™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ”¹å†™ï¼šæŸ¥è¯¢æ”¹å†™é€šè¿‡æ”¹è¿›æŸ¥è¯¢æ¥æ›´å¥½åœ°åŒ¹é…ç›¸å…³æ–‡æ¡£ã€‚å—åˆ°Rewrite-Retrieve-Readæ¡†æ¶çš„å¯å‘ï¼Œæˆ‘ä»¬ä¿ƒä½¿ä¸€ä¸ªLLMé‡å†™æŸ¥è¯¢ä»¥æå‡æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢åˆ†è§£ï¼šè¿™ç§æ–¹æ³•æ¶‰åŠåˆ°åŸºäºä»åŸå§‹æŸ¥è¯¢ä¸­æ´¾ç”Ÿçš„å­é—®é¢˜æ¥æ£€ç´¢æ–‡æ¡£ï¼Œè¿™æ¯”ç†è§£å’Œå¤„ç†æ›´å¤æ‚çš„æŸ¥è¯¢è¦å›°éš¾ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ªæ–‡æ¡£ç”Ÿæˆï¼šè¿™ç§æ–¹æ³•åŸºäºç”¨æˆ·æŸ¥è¯¢ç”Ÿæˆä¸€ä¸ªå‡æƒ³çš„æ–‡æ¡£ï¼Œå¹¶ä½¿ç”¨å‡æƒ³ç­”æ¡ˆçš„åµŒå…¥æ¥æ£€ç´¢ç›¸ä¼¼æ–‡æ¡£ã€‚ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„å®ç°æ˜¯HyDEã€‚
æœ€è¿‘çš„ç ”ç©¶è¡¨æ˜ç»“åˆåŸºäºè¯æ±‡çš„æœç´¢ä¸å‘é‡æœç´¢å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨BM25è¿›è¡Œç¨€ç–æ£€ç´¢å’ŒContrieverï¼Œä¸€ä¸ªæ— ç›‘ç£å¯¹æ¯”ç¼–ç å™¨ï¼Œè¿›è¡Œå¯†é›†æ£€ç´¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="reranking"&gt;Reranking&lt;/h3&gt;
&lt;p&gt;åœ¨æœ€åˆçš„æ£€ç´¢ä¹‹åï¼Œå°†é‡‡ç”¨é‡æ’åºé˜¶æ®µæ¥æé«˜æ£€ç´¢åˆ°çš„æ–‡æ¡£çš„ç›¸å…³æ€§ï¼Œç¡®ä¿æœ€ç›¸å…³çš„ä¿¡æ¯å‡ºç°åœ¨åˆ—è¡¨çš„é¡¶éƒ¨ã€‚è¿™ä¸€é˜¶æ®µé‡‡ç”¨æ›´ç²¾ç¡®ã€è€—æ—¶æ›´é•¿çš„æ–¹æ³•æœ‰æ•ˆåœ°é‡æ–°æ’åºæ–‡æ¡£ï¼Œå¢åŠ æŸ¥è¯¢ä¸æ’åæœ€é«˜çš„æ–‡æ¡£ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬çš„é‡æ’åºæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘äº†ä¸¤ç§æ–¹æ³•ï¼šDLMé‡æ’åºå’ŒTILDEé‡æ’åºã€‚DLMé‡æ’åºé‡‡ç”¨åˆ†ç±»æ–¹æ³•ï¼Œè€ŒTILDEé‡æ’åºåˆ™ä¾§é‡äºæŸ¥è¯¢å¯èƒ½æ€§ã€‚è¿™äº›æ–¹æ³•åˆ†åˆ«ä¼˜å…ˆè€ƒè™‘æ€§èƒ½å’Œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DLMé‡æ’æ–¹æ³•ï¼šè¿™ç§æ–¹æ³•åˆ©ç”¨æ·±åº¦è¯­è¨€æ¨¡å‹ï¼ˆDLMsï¼‰è¿›è¡Œé‡æ’ã€‚è¿™äº›æ¨¡å‹è¢«å¾®è°ƒç”¨ä»¥å°†æ–‡æ¡£ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§åˆ†ç±»ä¸ºâ€œçœŸâ€æˆ–â€œå‡â€ã€‚åœ¨å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹é€šè¿‡å°†æŸ¥è¯¢å’Œæ–‡æ¡£è¾“å…¥è¿æ¥èµ·æ¥ï¼Œå¹¶æ ¹æ®ç›¸å…³æ€§è¿›è¡Œæ ‡è®°æ¥è¿›è¡Œè®­ç»ƒã€‚åœ¨æ¨ç†æ—¶ï¼Œæ–‡æ¡£æ ¹æ®â€œçœŸâ€æ ‡è®°çš„æ¦‚ç‡è¿›è¡Œæ’åã€‚&lt;/li&gt;
&lt;li&gt;TILDEé‡æ’ï¼šTILDEé€šè¿‡é¢„æµ‹æ¨¡å‹è¯æ±‡è¡¨ä¸­çš„å„ä¸ªè¯é¡¹çš„æ¦‚ç‡æ¥ç‹¬ç«‹è®¡ç®—æ¯ä¸ªæŸ¥è¯¢è¯é¡¹çš„å¯èƒ½æ€§ã€‚é€šè¿‡å¯¹æŸ¥è¯¢è¯é¡¹çš„é¢„è®¡ç®—å¯¹æ•°æ¦‚ç‡æ±‚å’Œï¼Œä¸ºæ–‡æ¡£æ‰“åˆ†ï¼Œä»è€Œåœ¨æ¨ç†æ—¶å¿«é€Ÿé‡æ’ã€‚TILDEv2é€šè¿‡ä»…ç´¢å¼•æ–‡æ¡£ä¸­å­˜åœ¨çš„è¯é¡¹ï¼Œä½¿ç”¨NCEæŸå¤±ï¼Œå¹¶æ‰©å±•æ–‡æ¡£ï¼Œä»è€Œæé«˜æ•ˆç‡å¹¶å‡å°ç´¢å¼•å¤§å°ã€‚
æˆ‘ä»¬çš„å®éªŒæ˜¯åœ¨MS MARCO Passageæ’åæ•°æ®é›†ä¸Šè¿›è¡Œçš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§è§„æ¨¡çš„æœºå™¨é˜…è¯»ç†è§£æ•°æ®é›†ã€‚æˆ‘ä»¬éµå¾ªå¹¶å¯¹PyGaggleå’ŒTILDEæä¾›çš„å®ç°è¿›è¡Œäº†ä¿®æ”¹ï¼Œä½¿ç”¨äº†æ¨¡å‹monoT5ã€monoBERTã€RankLLaMAå’ŒTILDEv2ã€‚é‡æ’ç»“æœæ˜¾ç¤ºåœ¨è¡¨ä¸­ã€‚æˆ‘ä»¬æ¨èmonoT5ä½œä¸ºä¸€ç§ç»¼åˆæ€§çš„æ–¹æ³•ï¼Œå¹³è¡¡äº†æ€§èƒ½å’Œæ•ˆç‡ã€‚RankLLaMAé€‚åˆäºå®ç°æœ€ä½³æ€§èƒ½ï¼Œè€ŒTILDEv2æ˜¯åœ¨å›ºå®šé›†åˆä¸Šè·å¾—æœ€å¿«ä½“éªŒçš„ç†æƒ³é€‰æ‹©ã€‚å®éªŒè®¾ç½®å’Œç»“æœçš„è¯¦ç»†ä¿¡æ¯åœ¨é™„å½•ä¸­å‘ˆç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/100cf766-c92f-4387-8745-20b0e94296e4/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB46636GT4HUU%2F20260211%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260211T034958Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCVKzou5RiORfXBRyFq%2FoCcFhlsEYH41uIoB%2BA6lLwlMgIhALWJYR2eb368Ntay1yopgh4G94Dr1%2BGt1GefIxExJmSzKogECLP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx%2FETo0jBIzhG5HNsQq3AOyQ2sRHfw2ZWS0L%2FIf%2FleESuWwDt6zGxxDNK%2BdI5ZM%2FuPWPv272myiQCa7d%2FIVP0MluERmsnJp7BTz%2Bnp6XNdsr3RLc6%2Bl2%2FBGZ2OfRjQKBRnflrTIr2CRd7IlBarfpF%2Fcj82a6%2BGpJRtxxEs5kNl7xIksE7RdxcpmNNJiG6BxqHt5dAH7F9%2Fr%2F7i0LGtRFF9X%2FgCKqAprW5Eq8ZwMxLfTOJv4T6WjSlf1WLRWx4o82IkU0M85bcWUbrqoUg%2BPSry4eBxPw%2FDsCJjXg1aJa4MUJ7okkUJkPw0wmC4w8oqUwKnJIMDFQs6I1leb9j9cKOUPSF2TQblAhTBeePfI9FNN4sHOOeaGPXKaLR3uy%2FMmth0nwZxuEoOPnORGQIZ8La2gAFDxMk6N885Rv8aM4Euw64%2FLzVwzlstzDt023C0RtYNzuIsRTazH93hQf5rmczsgXxpYEVKWrCiQGmnK2B1pONKzUeUfnrHIiJalA%2BeTUuFW0FDnahDm3wHQ0Wo2Irz8u7sqHNnP91vxBMsox4Y91mUEYwIkW%2F3fMlCaMoGvxyIJ4gpHiAMgHl8unBRKXsQS47gU68j3O3AawAT74n7V4gy0oXY4RZoYwhuhco9Wetpt4RvAXrJ4TthWoTD8yq%2FMBjqkAaVKl%2FHIva1JSYiHf1jysFB%2Bx0SQttPY5nje9e34chy3EV9L83e4GVyfJtRAwUJFxiVCYP3M5Iv6aCoyWRo%2B%2F9KFEvdISfJQNpWTF%2FiczplRQe0NFbv1b%2F2ZHZQUiXWDd1o4BoptHixndU1%2BIQyp9S68SfO0t7em6JMsIm5SmNj12jFpqeIn8DJpSaqT7Ayqb698Uwf%2B191WnTfcbCRFz8BHkSiP&amp;X-Amz-Signature=0b871061f64c1c0bb85b66c711ce118448b280ee3546d180c7440f13bd9a51a9&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"&gt;&lt;/p&gt;
&lt;h3 id="æ–‡æ¡£é‡ç»„"&gt;æ–‡æ¡£é‡ç»„&lt;/h3&gt;
&lt;p&gt;æ–‡æ¡£é‡ç»„åç»­è¿‡ç¨‹çš„è¡¨ç°ï¼Œæ¯”å¦‚LLMå“åº”ç”Ÿæˆï¼Œå¯èƒ½ä¼šå—åˆ°æä¾›æ–‡æ¡£çš„é¡ºåºå½±å“ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨é‡æ–°æ’åä¹‹åçš„å·¥ä½œæµç¨‹ä¸­ï¼Œæˆ‘ä»¬åŠ å…¥äº†ä¸€ä¸ªç´§å‡‘çš„é‡ç»„æ¨¡å—ï¼ŒåŒ…å«ä¸‰ç§é‡ç»„æ–¹æ³•ï¼šâ€œå‰å‘â€ã€â€œåå‘â€å’Œâ€œä¸¤ä¾§â€ã€‚â€œå‰å‘â€æ–¹æ³•é€šè¿‡é™åºé‡æ–°æ’åé˜¶æ®µçš„ç›¸å…³æ€§å¾—åˆ†æ¥é‡ç»„æ–‡æ¡£ï¼Œè€Œâ€œåå‘â€åˆ™æŒ‰å‡åºæ’åˆ—å®ƒä»¬ã€‚å¯¹äºLLMï¼Œå½“ç›¸å…³ä¿¡æ¯æ”¾åœ¨è¾“å…¥çš„å¤´éƒ¨æˆ–å°¾éƒ¨æ—¶ï¼Œå¯ä»¥è¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼Œæˆ‘ä»¬ä¹ŸåŠ å…¥äº†â€œä¸¤ä¾§â€é€‰é¡¹ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;Reference&lt;/p&gt;
&lt;/blockquote&gt;</description></item><item><title>LlamaIndexæ¥å…¥åƒå¸†RAG</title><link>https://Pan-Binghong.github.io/daily-learning/ai/llamaindex%E6%8E%A5%E5%85%A5%E5%8D%83%E5%B8%86rag/</link><pubDate>Tue, 29 Oct 2024 01:52:00 +0000</pubDate><guid>https://Pan-Binghong.github.io/daily-learning/ai/llamaindex%E6%8E%A5%E5%85%A5%E5%8D%83%E5%B8%86rag/</guid><description>&lt;p&gt;è®°å½•ä»ä½¿ç”¨Llama-indexæ¡†æ¶, åŸºäºåœ¨çº¿æ–‡å¿ƒåƒå¸†å¤§æ¨¡å‹ERNIE-4.0, æ„å»ºå®ç°æœ¬åœ°çŸ¥è¯†æ£€ç´¢.&lt;/p&gt;
&lt;p&gt;&lt;img loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/1f73f1b2-0e9d-4fdf-9a59-00189860a2f9/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB4663UCQSFQ7%2F20260211%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260211T034913Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJFMEMCIBksi5%2F3MkmPDQ%2BoZUvBLpgXws%2Fj%2FXbWdgqoDq62th2SAh8ajnbSlUE%2BHdD7XiNBV6AH0U6umL13VJV1S8l9G6dNKogECLP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgymuJJZ3oHAF0hkxuUq3APnRL2DUMEsD59o8WugRChRR8Y%2B0y4RjygshGyANspL9DDRXCJnQfU7qTqJzKLgbGDMrBPICY6qHAz4aWkbGHiJBirPIRppnonGe22MNj6RJ4dQh3aVDO928GbZwVykw6vP%2F2bL%2FbSit%2B2kEb5neDnBWtIEY%2BsGfsYax%2FLjys0GtzPis9IzduYQW50UHWiy3KHp8C91YfGRSNATNlM2QqQju%2B%2FSlUO1XLobLrTXh7etjhVmbbz9P2IWzHDHfzoBxXh9auz3h0RCW5gsOMcrnI6Y9a6Fga7KBOn%2FYMaGIGWlQ59ELEdRkMipBuzBXssoIoLWOO%2BU%2BIfI1%2FsnGD7Gox%2BtsTaC9bNP5V%2BFsUOv3CCmpTscenkHT1ljj3aXiBPo0ZYlA09ZJMNFG3wTIQ4HK2vvvtNJDxTiQC2UVVDJHFHkgWNfVB8BbbCZ9dClrNwweAnmKrwAP5dB6Jk%2FxuqkB4csF8VSNOvZHM3aTZ5dxFYufKoV1yz0yZfukSJ3VWKQcaXV9rAczCQQqBmp3j412C%2FdKbc6k2zTTQVCgq3P%2FqG%2BPftj67xYG1gG5aYjWgyxRjmof4PwFDRU45daCp1Dj6sqAQNgK5KVNylchiugT05xOfBfUimjCxAKX4KWsDCky6%2FMBjqnAeCCCIbbFAIMvL5WAGqxvxdXPSndIjUlCHeko2Ap7UI9PKRKUwhiHkO2gaNdhexgQb%2FO%2BDNn1%2F%2B%2Fq7zLl5z3vf1F4sg7dV3sHunjdmnD27Z5bS4HJCYid2QcNHglviNqfvAWni8w7J602tNvVueJBZSvBnWXzvNRvSfOxxKl3EZ0UEW7V5In%2BfEw6ymABs5UmwdoGEDgWdBXUAnAU%2BbOCrrX2tE1KC2C&amp;X-Amz-Signature=847d0b527282c971578aa51c2c30fd0e3751db4ddaa630145f97fb6db0f46222&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"&gt;&lt;/p&gt;
&lt;h3 id="å¯¼å…¥å¤§æ¨¡å‹"&gt;å¯¼å…¥å¤§æ¨¡å‹&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.llms.qianfan&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Qianfan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;access_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class="n"&gt;secret_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class="n"&gt;model_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ERNIE-4.0-8K-Latest&amp;#34;&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions_pro&amp;#34;&lt;/span&gt;&lt;span class="n"&gt;llm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Qianfan&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;access_key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;secret_key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context_window&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8192&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;model_nameå¯åœ¨åƒå¸†å¹³å°æŸ¥çœ‹, å¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/ec53fa42-9c7c-4b3b-b334-810c76b293ae/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB4663UCQSFQ7%2F20260211%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260211T034913Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJFMEMCIBksi5%2F3MkmPDQ%2BoZUvBLpgXws%2Fj%2FXbWdgqoDq62th2SAh8ajnbSlUE%2BHdD7XiNBV6AH0U6umL13VJV1S8l9G6dNKogECLP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgymuJJZ3oHAF0hkxuUq3APnRL2DUMEsD59o8WugRChRR8Y%2B0y4RjygshGyANspL9DDRXCJnQfU7qTqJzKLgbGDMrBPICY6qHAz4aWkbGHiJBirPIRppnonGe22MNj6RJ4dQh3aVDO928GbZwVykw6vP%2F2bL%2FbSit%2B2kEb5neDnBWtIEY%2BsGfsYax%2FLjys0GtzPis9IzduYQW50UHWiy3KHp8C91YfGRSNATNlM2QqQju%2B%2FSlUO1XLobLrTXh7etjhVmbbz9P2IWzHDHfzoBxXh9auz3h0RCW5gsOMcrnI6Y9a6Fga7KBOn%2FYMaGIGWlQ59ELEdRkMipBuzBXssoIoLWOO%2BU%2BIfI1%2FsnGD7Gox%2BtsTaC9bNP5V%2BFsUOv3CCmpTscenkHT1ljj3aXiBPo0ZYlA09ZJMNFG3wTIQ4HK2vvvtNJDxTiQC2UVVDJHFHkgWNfVB8BbbCZ9dClrNwweAnmKrwAP5dB6Jk%2FxuqkB4csF8VSNOvZHM3aTZ5dxFYufKoV1yz0yZfukSJ3VWKQcaXV9rAczCQQqBmp3j412C%2FdKbc6k2zTTQVCgq3P%2FqG%2BPftj67xYG1gG5aYjWgyxRjmof4PwFDRU45daCp1Dj6sqAQNgK5KVNylchiugT05xOfBfUimjCxAKX4KWsDCky6%2FMBjqnAeCCCIbbFAIMvL5WAGqxvxdXPSndIjUlCHeko2Ap7UI9PKRKUwhiHkO2gaNdhexgQb%2FO%2BDNn1%2F%2B%2Fq7zLl5z3vf1F4sg7dV3sHunjdmnD27Z5bS4HJCYid2QcNHglviNqfvAWni8w7J602tNvVueJBZSvBnWXzvNRvSfOxxKl3EZ0UEW7V5In%2BfEw6ymABs5UmwdoGEDgWdBXUAnAU%2BbOCrrX2tE1KC2C&amp;X-Amz-Signature=6d274480adf93d0c87b5c63153ef6b2b9250942351f77a660c11c62641af2466&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="å¯¼å…¥æœ¬åœ°embedding"&gt;å¯¼å…¥æœ¬åœ°Embedding&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸‹è½½Embeddingæ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;modelscope&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;snapshot_download&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;model_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;snapshot_download&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Xorbits/bge-m3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cache_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/data/LLMs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åŠ è½½æœ¬åœ°Embeddingæ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.embeddings.huggingface&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;HuggingFaceEmbedding&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;cache_folder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;embed_model/m3e-large&amp;#34;&lt;/span&gt;&lt;span class="n"&gt;embed_model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HuggingFaceEmbedding&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cache_folder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cache_folder&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id="æ„å»ºæœ¬åœ°çŸ¥è¯†åº“"&gt;æ„å»ºæœ¬åœ°çŸ¥è¯†åº“&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SimpleDirectoryReader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;VectorStoreIndex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;/data/documents&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;#æ–‡æ¡£è·¯å¾„vector_index = VectorStoreIndex.from_documents(documents)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h3 id="æ„å»ºæŸ¥è¯¢å¼•æ“"&gt;æ„å»ºæŸ¥è¯¢å¼•æ“&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;query_engine&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_query_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;similarity_top_k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;similarity_top_kå¯æ ¹æ®ç»éªŒè‡ªè¡Œè°ƒæ•´, æ¨èè®¾ç½®3, 5.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="æ„å»ºrag-agent"&gt;æ„å»ºRAG Agent&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»ºå·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_tool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;full_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;documents&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;./data/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# build vector index vector_index = VectorStoreIndex.from_documents(documents)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage_context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;persist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persist_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;./data/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;load_index_from_storage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;StorageContext&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_defaults&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persist_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;./data/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_query_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;similarity_top_k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine_tool&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QueryEngineTool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;query_engine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;metadata&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ToolMetadata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;Provides information about Uber quarterly financials ending&amp;#34;&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34; &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;full_name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;query_engine_tool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è®¾ç½®Agent&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.core.agent&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;AgentRunner&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ReActAgent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;agent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ReActAgent&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_tools&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine_tools&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;agent_llm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verbose&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_iterations&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;agent&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;æ‚¨çš„é—®é¢˜&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="æ•´ä½“ä»£ç "&gt;æ•´ä½“ä»£ç &lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Settings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SimpleDirectoryReader&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;VectorStoreIndex&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.llms.qianfan&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Qianfan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.core.tools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;QueryEngineTool&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ToolMetadata&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.embeddings.huggingface&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;HuggingFaceEmbedding&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# åˆå§‹åŒ–Qianfanæ¨¡å‹class Rag:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;access_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;secret_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ERNIE-4.0-8K-Latest&amp;#34;&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions_pro&amp;#34;&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;llm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Qianfan&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;access_key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;secret_key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context_window&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8192&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cache_folder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;embed_model/m3e-large&amp;#34;&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;/data/documents&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# æ•°æ®ç›®å½•è·¯å¾„ def get_tool(self, name, full_name, documents=None):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;embed_model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HuggingFaceEmbedding&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cache_folder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cache_folder&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Settings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;embed_model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;embed_model&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;VectorStoreIndex&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_documents&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;documents&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;persist_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persist_path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;storage_context&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;persist&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;persist_dir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;persist_path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vector_index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_query_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;similarity_top_k&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine_tool&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QueryEngineTool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query_engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;query_engine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;metadata&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ToolMetadata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Provides information from document &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;full_name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;query_engine_tool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;parse_args&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine_tools&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;endswith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;.txt&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;filepath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;directory&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;documents&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SimpleDirectoryReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input_files&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;filepath&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load_data&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;tool_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c1"&gt;# å»é™¤&amp;#39;.txt&amp;#39;å¾—åˆ°å·¥å…·åç§° tool = self.get_tool(tool_name, tool_name, documents=documents)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;query_engine_tools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tool&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;query_engine_tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;query_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;llama_index.core.agent&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ReActAgent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;tools&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse_args&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;agent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ReActAgent&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_tools&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;llm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verbose&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_iterations&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;agent&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# åˆ›å»º Rag å®ä¾‹å¹¶æ‰§è¡ŒæŸ¥è¯¢if __name__ == &amp;#34;__main__&amp;#34;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;rag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Rag&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query_engine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;é—®é¢˜&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥&lt;/p&gt;</description></item></channel></rss>