name: å®šæ—¶ä»»åŠ¡

on:
  push:
    branches: [ master, main ]  # æ¨é€ä»£ç æ—¶è§¦å‘
  schedule:
    # æ¯å¤© UTC æ—¶é—´ 00:00 æ‰§è¡Œï¼ˆåŒ—äº¬æ—¶é—´ 08:00ï¼‰
    # cron æ ¼å¼ï¼šåˆ†é’Ÿ å°æ—¶ æ—¥ æœˆ æ˜ŸæœŸ
    - cron: '0 0 * * *'
  workflow_dispatch: # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  scheduled-job:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¦ æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
      
      - name: ğŸ è®¾ç½® Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.x'
      
      - name: ğŸ“… æ˜¾ç¤ºæ‰§è¡Œä¿¡æ¯
        run: |
          echo "=========================================="
          echo "ğŸš€ å·¥ä½œæµå¼€å§‹æ‰§è¡Œ"
          echo "=========================================="
          echo "è§¦å‘æ–¹å¼: ${{ github.event_name }}"
          echo "åˆ†æ”¯: ${{ github.ref }}"
          echo "æäº¤: ${{ github.sha }}"
          echo "æ‰§è¡Œè€…: ${{ github.actor }}"
          echo "=========================================="
      
      - name: âš™ï¸ æ‰§è¡Œå®šæ—¶ä»»åŠ¡
        run: python script.py
      
      - name: âœ… ä»»åŠ¡å®Œæˆ
        run: |
          echo "=========================================="
          echo "âœ¨ ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼"
          echo "=========================================="

