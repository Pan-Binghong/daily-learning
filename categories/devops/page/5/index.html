<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>DevOps | 我的博客</title><meta name=keywords content><meta name=description content="个人学习笔记博客"><meta name=author content="Pan Binghong"><link rel=canonical href=https://Pan-Binghong.github.io/categories/devops/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://Pan-Binghong.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Pan-Binghong.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Pan-Binghong.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://Pan-Binghong.github.io/apple-touch-icon.png><link rel=mask-icon href=https://Pan-Binghong.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://Pan-Binghong.github.io/categories/devops/index.xml title=rss><link rel=alternate hreflang=en href=https://Pan-Binghong.github.io/categories/devops/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://Pan-Binghong.github.io/categories/devops/"><meta property="og:site_name" content="我的博客"><meta property="og:title" content="DevOps"><meta property="og:description" content="个人学习笔记博客"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="DevOps"><meta name=twitter:description content="个人学习笔记博客"></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://Pan-Binghong.github.io/ accesskey=h title="我的博客 (Alt + H)">我的博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Pan-Binghong.github.io/ title=首页><span>首页</span></a></li><li><a href=https://Pan-Binghong.github.io/ai/ title=AI><span>AI</span></a></li><li><a href=https://Pan-Binghong.github.io/knowledge/ title=知识库><span>知识库</span></a></li><li><a href=https://Pan-Binghong.github.io/backend/ title=后端><span>后端</span></a></li><li><a href=https://Pan-Binghong.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://Pan-Binghong.github.io/other/ title=其他><span>其他</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>DevOps</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Linux系统配置环境变量</h2></header><div class=entry-content><p>要将一个目录添加到 $PATH 环境变量中，以便在任何位置都能调用该目录下的可执行文件，你可以按照以下步骤操作：
1 2 3 export PATH=$PATH:/your/directory/path 如 export PATH=$PATH:/usr/local/bin 使用export命令只是临时设置环境变量。这个设置只在当前终端会话中有效，当你关闭终端或者注销登录时，设置的环境变量会消失。 如果你希望环境变量在每次登录时都自动设置，你需要修改相应的配置文件。不同的Shell有不同的配置文件：
对于bash shell（大多数Linux发行版默认的shell），你可以修改~/.bashrc或~/.bash_profile文件。对于系统级别的环境变量，可以修改/etc/profile或/etc/environment。 如： 1 echo 'export PATH=$PATH:/your/directory/path' >> ~/.bashrc 然后，为了让修改立即生效，你可以运行：
1 source ~/.bashrc</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Linux系统配置环境变量" href=https://Pan-Binghong.github.io/devops/linux%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Nginx安装 | Nginx详解</h2></header><div class=entry-content><p>什么是Nginx 💡 Nginx (pronounced “engine x”) 是一个高性能的HTTP和反向代理服务器，也是一个MAP/POP3/SMTP邮件代理服务器。主要目的是处理静态内容（如 HTML、CSS、JavaScript、图像等），也可以作为负载均衡器和反向代理服务器来处理动态内容。
Nginx背景科普 应用场景 假如说我们公司产品刚上线的时候并发量特别小, 访问的用户的话比较少, 一个jar包就完全够用了, 然后内部tomcat返回内容给用户, 那客户端来访问, 我们Tomcat给它返回出去。那压力不大的情况下还是比较快的。
但是随着我们的项目逐渐成熟用的人也越来越多，并发量慢慢增大了，这时候一台服务器满足不了我们的需求了，如果还坚持用Tomcat的方法就会导致我们的服务器超出承载范围导致服务器崩溃，会给公司造成一定的经济损失。
如果遇到这种问题最笨的方法是直接去横向扩展服务器就好了，比如说我们加了一台, 加了两台, 加了三台。那加了三台服务器之后呢, 我们的Tomcat就跑到了多台服务器上，但是跑在多个服务器上，我们的用户访问方式是一个一个去访问的，那肯定就乱套了，因为Session的话, 它是不共享的，这个时候几个项目启动在不同的服务器上，用户要访问，就需要增加一个代理服务器了，通过代理服务器来帮我们转发和处理请求，我们希望这个代理服务器可以帮助我们接收用户的请求，然后将用户的请求按照规则帮我们转发到不同的服务器节点之上。这个过程用户是无感知的，用户并不知道是哪个服务器返回的结果，我们还希望他可以按照服务器的性能提供不同的权重选择。保证最佳体验！所以我们使用了Nginx！
Nginx主要实现的三个功能 反向代理 正向代理是代理我们的客户端的，而反向代理是代理我们的服务器端的，让客户无感知的游览我们一些服务器资源。 负载均衡 比如说我们这个地方有64G, 16G, 8G的服务器, 我们希望更多的请求能够达到咱们64G的服务器，更少的请求达到16G和8G的服务器, 那Nginx也具备咱们负载均衡的功能, 它有一些类似的策略, 比如说轮循跟加强轮重, 比如说我们这个64G的服务器比较牛, 所以说它的权重就更高。那如果有很多请求达进来的话, 那大量的请求都会走到64G的服务器里, 那可能只有一部分请求能进入咱们一些权重比较小的服务器, 这样的话来保证我们服务器的性能最大化, 哪怕我们有台很小的服务器也可以上线去使用, 可以节约成本。
动静分离 动静分离，在我们的软件开发中，有些请求是需要后台处理的，有些请求是不需要经过后台处理的（如：css、html、jpg、js等等文件），这些不需要经过后台处理的文件称为静态文件。让动态网站里的动态网页根据一定规则把不变的资源和经常变的资源区分开来，动静资源做好了拆分以后，我们就可以根据静态资源的特点将其做缓存操作。提高资源响应的速度
那这就是咱们Nginx三个主要的功能的一个介绍。第一个是咱们的反向代理。第二个是一个负载均衡。第三个是一个静态分离。在我们正常的工作开发中, 这些三个请求是经常可以使用到的
Nginx安装 windows上安装Nginx 进入黑窗口后输入nginx.exe
它是没输出日志的，那怎么样子判断它启动成功了呢？
我们可以在游览器上来访问一下咱们本地的localhost80端口
只要出现Welcome to nginx!就说明安装成功了
这是就是一个windows安装的教程
Linux上安装Nginx 坑 Nginx常用命令 1 2 3 4 5 6 1. `cd /usr/local/nginx/sbin/` 2. `./nginx 启动` 3. `./nginx -s stop 停止` 4. `./nginx -s quit 安全退出` 5. `./nginx -s reload 重新加载配置文件` 6. `ps aux|grep nginx 查看nginx进程` Reference
...</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Nginx安装 | Nginx详解" href=https://Pan-Binghong.github.io/devops/nginx%E5%AE%89%E8%A3%85-nginx%E8%AF%A6%E8%A7%A3/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ngrok安装 | 运行方法</h2></header><div class=entry-content><p>💡 前几天帮人微调模型的时候，使用的LlamaFactory的WebUI，由于服务部署到他的内网环境内，做了内网穿透使得可以让多人访问。刚好想着了解一下，在此背景下，撰写了本文章。
内网穿透 原理 又称为NAT穿透。NAT穿透技术是让NAT背后的设备，先访问指定的外网服务器，由指定的外网服务器搭建桥梁，打通内、外网设备的访问通道，最终实现外网设备访问到内网设备。
常用工具 参考各大论坛关于内网穿透工具的评论区。
Ngrok frp 花生壳 ZEROTIER 樱花FRP Ngrok ngrok的极其简单，官网写的很清楚，下面是官方的安装教程。为了加深记忆，我就复制一下吧。
https://dashboard.ngrok.com/get-started/setup/windows
安装 安装前需要在该网站进行账号的注册，用于登陆。
根据自身情况，选择合适的安装方式。 假设选择是在Windows内安装，打开终端，输入： 使用 在终端输入：
1 ngrok http http://localhost:80 表示将本地的80端口映射到ngrok的服务器内。
Reference</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Ngrok安装 | 运行方法" href=https://Pan-Binghong.github.io/devops/ngrok%E5%AE%89%E8%A3%85-%E8%BF%90%E8%A1%8C%E6%96%B9%E6%B3%95/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Ubuntu安装监控系统可视化模块</h2></header><div class=entry-content><p>Prometheus是一个开放性的监控解决方案，用户可以非常方便的安装和使用Prometheus并且能够非常方便的对其进行扩展。为了能够更加直观的了解Prometheus Server，接下来我们将在本地部署并运行一个Prometheus Server实例，通过Node Exporter采集当前主机的系统资源使用情况。 并通过Grafana创建一个简单的可视化仪表盘。
Prometheus是什么？
下载Prometheus 下载链接 安装Prometheus 解压 修改Prometheus配置 进入文件目标, 并修改配置 将以下内容放置在配置文件内 启动服务 在web浏览器查看 localhost:9090 Monitoring Linux host metrics with the Node Exporter
下载Node Exporter 下载地址 安装 & RUN 1 2 3 tar xvfz node_exporter-*.*-amd64.tar.gz cd node_exporter-*.*-amd64 ./node_exporter 在web浏览器查看 http://localhost:9100/ What is Grafana
安装Grafana Ubuntu安装流程 1 2 3 # 更新apt-getsudo apt-get install -y adduser libfontconfig1 musl # 下载软件wget https://dl.grafana.com/enterprise/release/grafana-enterprise_10.0.0_amd64.deb # 安装sudo dpkg -i grafana-enterprise_10.0.0_amd64.deb 操作系统不是Ubuntu则查看上面的链接, 根据自身系统进行安装 RUN Grafana 运行Grafana可视化服务 1 sudo /bin/systemctl start grafana-server 在web浏览器查看 http://localhost:3000/ 设置流程如下: step-1 ...</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Ubuntu安装监控系统可视化模块" href=https://Pan-Binghong.github.io/devops/ubuntu%E5%AE%89%E8%A3%85%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%9D%97/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Win+R Common commands</h2></header><div class=entry-content><p>💡 记录Windows操作系统内，使用Win+R键，常用的一些快捷命令。
常用命令</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Win+R Common commands" href=https://Pan-Binghong.github.io/devops/win+r-common-commands/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://Pan-Binghong.github.io/categories/devops/page/4/>«&nbsp;Prev&nbsp;</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://Pan-Binghong.github.io/>我的博客</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>