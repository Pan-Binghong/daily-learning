<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹ | æˆ‘çš„åšå®¢</title><meta name=keywords content="Swift"><meta name=description content="
ğŸ’¡ è®°å½•ä½¿ç”¨Swiftæ¡†æ¶å¾®è°ƒè‡³æ¨ç†å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…¨æµç¨‹ï¼Œæ¨¡å‹é‡‡ç”¨Qwen_VL_2.5-7bã€‚


1. åŸºç¡€ç¯å¢ƒå®‰è£…
https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html
é‡‡ç”¨pipåŒ…ç®¡ç†å™¨å®‰è£…ï¼š


1


pip install 'ms-swift[all]' -U



2. ä¸‹è½½æ¨¡å‹
https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct
ä½¿ç”¨gitä¸‹è½½ï¼š


1


git clone https://www.modelscope.cn/Qwen/Qwen2-VL-7B-Instruct.git


æ¨¡å‹ç›®å½•æˆªå›¾ï¼š


3. ä¸‹è½½æ•°æ®é›†
æ•°æ®é›†1
https://modelscope.cn/datasets/AI-ModelScope/coco/summary
ä½¿ç”¨gitä¸‹è½½ï¼š


1


git clone https://www.modelscope.cn/datasets/AI-ModelScope/coco.git


ç›®å½•æ˜¾ç¤ºï¼š

æ•°æ®é›†é¢„è§ˆ


æ•°æ®é›†2
https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary


1


git clone https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM.git


ä¸‹è½½åçš„ç›®å½•æ˜¾ç¤ºä¸ºï¼š

è¾“å…¥ï¼šunzip llava_ins_image.zip è§£å‹å›¾ç‰‡å‹ç¼©åŒ…ã€‚å¾—åˆ°ä»¥ä¸Šçº¢æ¡†å†…å®¹ã€‚
æ•°æ®é›†æˆªå›¾é¢„è§ˆ


4. å¾®è°ƒ
4.1 æ£€æŸ¥å¾®è°ƒç¯å¢ƒ


1
2
3


pip list | grep swift
# å›æ˜¾ä¸€ä¸‹å†…å®¹è¡¨ç¤ºæ­£ç¡®
ms_swift                       3.2.1


4.2 åŸºäºWebUIå¾®è°ƒ


1


swift web-ui --lang zh


"><meta name=author content="Pan Binghong"><link rel=canonical href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Eswift%E6%A1%86%E6%9E%B6%E5%BE%AE%E8%B0%83%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B/><link crossorigin=anonymous href=/daily-learning/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://Pan-Binghong.github.io/daily-learning/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Pan-Binghong.github.io/daily-learning/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Pan-Binghong.github.io/daily-learning/favicon-32x32.png><link rel=apple-touch-icon href=https://Pan-Binghong.github.io/daily-learning/apple-touch-icon.png><link rel=mask-icon href=https://Pan-Binghong.github.io/daily-learning/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Eswift%E6%A1%86%E6%9E%B6%E5%BE%AE%E8%B0%83%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Eswift%E6%A1%86%E6%9E%B6%E5%BE%AE%E8%B0%83%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B/"><meta property="og:site_name" content="æˆ‘çš„åšå®¢"><meta property="og:title" content="åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹"><meta property="og:description" content=" ğŸ’¡ è®°å½•ä½¿ç”¨Swiftæ¡†æ¶å¾®è°ƒè‡³æ¨ç†å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…¨æµç¨‹ï¼Œæ¨¡å‹é‡‡ç”¨Qwen_VL_2.5-7bã€‚
1. åŸºç¡€ç¯å¢ƒå®‰è£… https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html
é‡‡ç”¨pipåŒ…ç®¡ç†å™¨å®‰è£…ï¼š
1 pip install 'ms-swift[all]' -U 2. ä¸‹è½½æ¨¡å‹ https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct
ä½¿ç”¨gitä¸‹è½½ï¼š
1 git clone https://www.modelscope.cn/Qwen/Qwen2-VL-7B-Instruct.git æ¨¡å‹ç›®å½•æˆªå›¾ï¼š
3. ä¸‹è½½æ•°æ®é›† æ•°æ®é›†1 https://modelscope.cn/datasets/AI-ModelScope/coco/summary
ä½¿ç”¨gitä¸‹è½½ï¼š
1 git clone https://www.modelscope.cn/datasets/AI-ModelScope/coco.git ç›®å½•æ˜¾ç¤ºï¼š
æ•°æ®é›†é¢„è§ˆ æ•°æ®é›†2 https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary
1 git clone https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM.git ä¸‹è½½åçš„ç›®å½•æ˜¾ç¤ºä¸ºï¼š
è¾“å…¥ï¼šunzip llava_ins_image.zip è§£å‹å›¾ç‰‡å‹ç¼©åŒ…ã€‚å¾—åˆ°ä»¥ä¸Šçº¢æ¡†å†…å®¹ã€‚
æ•°æ®é›†æˆªå›¾é¢„è§ˆ 4. å¾®è°ƒ 4.1 æ£€æŸ¥å¾®è°ƒç¯å¢ƒ 1 2 3 pip list | grep swift # å›æ˜¾ä¸€ä¸‹å†…å®¹è¡¨ç¤ºæ­£ç¡® ms_swift 3.2.1 4.2 åŸºäºWebUIå¾®è°ƒ 1 swift web-ui --lang zh "><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="ai"><meta property="article:published_time" content="2025-03-21T06:10:00+00:00"><meta property="article:modified_time" content="2025-04-11T02:22:00+00:00"><meta property="article:tag" content="Swift"><meta name=twitter:card content="summary"><meta name=twitter:title content="åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹"><meta name=twitter:description content="
ğŸ’¡ è®°å½•ä½¿ç”¨Swiftæ¡†æ¶å¾®è°ƒè‡³æ¨ç†å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…¨æµç¨‹ï¼Œæ¨¡å‹é‡‡ç”¨Qwen_VL_2.5-7bã€‚


1. åŸºç¡€ç¯å¢ƒå®‰è£…
https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html
é‡‡ç”¨pipåŒ…ç®¡ç†å™¨å®‰è£…ï¼š


1


pip install 'ms-swift[all]' -U



2. ä¸‹è½½æ¨¡å‹
https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct
ä½¿ç”¨gitä¸‹è½½ï¼š


1


git clone https://www.modelscope.cn/Qwen/Qwen2-VL-7B-Instruct.git


æ¨¡å‹ç›®å½•æˆªå›¾ï¼š


3. ä¸‹è½½æ•°æ®é›†
æ•°æ®é›†1
https://modelscope.cn/datasets/AI-ModelScope/coco/summary
ä½¿ç”¨gitä¸‹è½½ï¼š


1


git clone https://www.modelscope.cn/datasets/AI-ModelScope/coco.git


ç›®å½•æ˜¾ç¤ºï¼š

æ•°æ®é›†é¢„è§ˆ


æ•°æ®é›†2
https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary


1


git clone https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM.git


ä¸‹è½½åçš„ç›®å½•æ˜¾ç¤ºä¸ºï¼š

è¾“å…¥ï¼šunzip llava_ins_image.zip è§£å‹å›¾ç‰‡å‹ç¼©åŒ…ã€‚å¾—åˆ°ä»¥ä¸Šçº¢æ¡†å†…å®¹ã€‚
æ•°æ®é›†æˆªå›¾é¢„è§ˆ


4. å¾®è°ƒ
4.1 æ£€æŸ¥å¾®è°ƒç¯å¢ƒ


1
2
3


pip list | grep swift
# å›æ˜¾ä¸€ä¸‹å†…å®¹è¡¨ç¤ºæ­£ç¡®
ms_swift                       3.2.1


4.2 åŸºäºWebUIå¾®è°ƒ


1


swift web-ui --lang zh


"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ais","item":"https://Pan-Binghong.github.io/daily-learning/ai/"},{"@type":"ListItem","position":2,"name":"åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹","item":"https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Eswift%E6%A1%86%E6%9E%B6%E5%BE%AE%E8%B0%83%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹","name":"åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹","description":" ğŸ’¡ è®°å½•ä½¿ç”¨Swiftæ¡†æ¶å¾®è°ƒè‡³æ¨ç†å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…¨æµç¨‹ï¼Œæ¨¡å‹é‡‡ç”¨Qwen_VL_2.5-7bã€‚\n1. åŸºç¡€ç¯å¢ƒå®‰è£… https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html\né‡‡ç”¨pipåŒ…ç®¡ç†å™¨å®‰è£…ï¼š\n1 pip install \u0026#39;ms-swift[all]\u0026#39; -U 2. ä¸‹è½½æ¨¡å‹ https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct\nä½¿ç”¨gitä¸‹è½½ï¼š\n1 git clone https://www.modelscope.cn/Qwen/Qwen2-VL-7B-Instruct.git æ¨¡å‹ç›®å½•æˆªå›¾ï¼š\n3. ä¸‹è½½æ•°æ®é›† æ•°æ®é›†1 https://modelscope.cn/datasets/AI-ModelScope/coco/summary\nä½¿ç”¨gitä¸‹è½½ï¼š\n1 git clone https://www.modelscope.cn/datasets/AI-ModelScope/coco.git ç›®å½•æ˜¾ç¤ºï¼š\næ•°æ®é›†é¢„è§ˆ æ•°æ®é›†2 https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary\n1 git clone https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM.git ä¸‹è½½åçš„ç›®å½•æ˜¾ç¤ºä¸ºï¼š\nè¾“å…¥ï¼šunzip llava_ins_image.zip è§£å‹å›¾ç‰‡å‹ç¼©åŒ…ã€‚å¾—åˆ°ä»¥ä¸Šçº¢æ¡†å†…å®¹ã€‚\næ•°æ®é›†æˆªå›¾é¢„è§ˆ 4. å¾®è°ƒ 4.1 æ£€æŸ¥å¾®è°ƒç¯å¢ƒ 1 2 3 pip list | grep swift # å›æ˜¾ä¸€ä¸‹å†…å®¹è¡¨ç¤ºæ­£ç¡® ms_swift 3.2.1 4.2 åŸºäºWebUIå¾®è°ƒ 1 swift web-ui --lang zh ","keywords":["Swift"],"articleBody":" ğŸ’¡ è®°å½•ä½¿ç”¨Swiftæ¡†æ¶å¾®è°ƒè‡³æ¨ç†å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…¨æµç¨‹ï¼Œæ¨¡å‹é‡‡ç”¨Qwen_VL_2.5-7bã€‚\n1. åŸºç¡€ç¯å¢ƒå®‰è£… https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html\né‡‡ç”¨pipåŒ…ç®¡ç†å™¨å®‰è£…ï¼š\n1 pip install 'ms-swift[all]' -U 2. ä¸‹è½½æ¨¡å‹ https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct\nä½¿ç”¨gitä¸‹è½½ï¼š\n1 git clone https://www.modelscope.cn/Qwen/Qwen2-VL-7B-Instruct.git æ¨¡å‹ç›®å½•æˆªå›¾ï¼š\n3. ä¸‹è½½æ•°æ®é›† æ•°æ®é›†1 https://modelscope.cn/datasets/AI-ModelScope/coco/summary\nä½¿ç”¨gitä¸‹è½½ï¼š\n1 git clone https://www.modelscope.cn/datasets/AI-ModelScope/coco.git ç›®å½•æ˜¾ç¤ºï¼š\næ•°æ®é›†é¢„è§ˆ æ•°æ®é›†2 https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary\n1 git clone https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM.git ä¸‹è½½åçš„ç›®å½•æ˜¾ç¤ºä¸ºï¼š\nè¾“å…¥ï¼šunzip llava_ins_image.zip è§£å‹å›¾ç‰‡å‹ç¼©åŒ…ã€‚å¾—åˆ°ä»¥ä¸Šçº¢æ¡†å†…å®¹ã€‚\næ•°æ®é›†æˆªå›¾é¢„è§ˆ 4. å¾®è°ƒ 4.1 æ£€æŸ¥å¾®è°ƒç¯å¢ƒ 1 2 3 pip list | grep swift # å›æ˜¾ä¸€ä¸‹å†…å®¹è¡¨ç¤ºæ­£ç¡® ms_swift 3.2.1 4.2 åŸºäºWebUIå¾®è°ƒ 1 swift web-ui --lang zh 4.3 åŸºäºå‘½ä»¤è¡Œå¾®è°ƒ å‚æ•°è¯¦ç»†å‚è€ƒï¼šhttps://swift.readthedocs.io/zh-cn/latest/Instruction/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0.html\n4.3.1 å¾®è°ƒcocoæ•°æ®é›† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 # æ˜¾å­˜èµ„æºï¼š24GiB CUDA_VISIBLE_DEVICES=0 \\ MAX_PIXELS=1003520 \\ swift sft \\ --model /root/autodl-tmp/multimodal/Qwen2-VL-7B-Instruct \\ --dataset '/root/autodl-tmp/datasets/coco#1000' \\ --train_type lora \\ --torch_dtype bfloat16 \\ --num_train_epochs 1 \\ --per_device_train_batch_size 1 \\ --per_device_eval_batch_size 1 \\ --learning_rate 1e-4 \\ --lora_rank 8 \\ --lora_alpha 32 \\ --target_modules all-linear \\ --freeze_vit true \\ --gradient_accumulation_steps 16 \\ --save_steps 100 \\ --save_total_limit 5 \\ --logging_steps 5 \\ --max_length 2048 \\ --output_dir output \\ --warmup_ratio 0.05 \\ --dataloader_num_workers 4 \\ --dataset_num_proc 4 \\ --streaming true \\ --max_steps 2000 \\ --enable_cache true \\ --split_dataset_ratio 0 è®­ç»ƒè®°å½•æˆªå›¾ 4.3.2 å¾®è°ƒLLava-Intruction-MLLMæ•°æ®é›† è¿›å…¥åˆ°æ•°æ®é›†æ€»ç›®å½•ä¸‹ï¼Œcd /root/autodl-tmp/LLaVa-Instruction-MLLM åˆ›å»ºå¾®è°ƒè„šæœ¬train.shï¼Œå†™å…¥å¾®è°ƒå‘½ä»¤ï¼š å‡çº§è„šæœ¬æƒé™: chmod +x train.sh æ‰§è¡Œå¾®è°ƒè„šæœ¬: ./train.sh è®­ç»ƒè®°å½•æˆªå›¾ 4.3.3 å¾®è°ƒè‡ªå®šä¹‰æ•°æ®é›† æ„å»ºæ•°æ®é›†ï¼Œé‡‡ç”¨jsonçš„æ ¼å¼ï¼Œæ•°æ®å†…å®¹å¦‚ä¸‹: è®­ç»ƒè„šæœ¬: è®­ç»ƒè®°å½•æˆªå›¾ 4.4 åŸºäºPythonä»£ç å¾®è°ƒ 4.5 è®­ç»ƒå®Œæ¯•æ£€æŸ¥ 5. Loraåˆå¹¶ https://github.com/modelscope/ms-swift/blob/main/examples/export/merge_lora.sh\næ‰¾åˆ°å¾®è°ƒåæ¨¡å‹çš„è¾“å‡ºè·¯å¾„ï¼Œä¾‹å¦‚output/vx-xxx/checkpoint-xxx åœ¨ç»ˆç«¯è¾“å…¥: 1 2 3 swift export \\ --adapters output/vx-xxx/checkpoint-xxx \\ --merge_lora true åˆå¹¶å®Œæˆ 6. æ¨ç† æ¨ç†ä»åº•å±‚é€»è¾‘è®²ï¼Œåˆ†ä¸º2ç§æ–¹å¼ï¼Œç¬¬2ç§ä¸ºç›´æ¥ä½¿ç”¨åˆšæ‰å¾®è°ƒåçš„æ–‡ä»¶ã€‚å³ä½¿ç”¨â€“adapters åé¢è·Ÿæ–‡ä»¶è·¯å¾„ã€‚ç¬¬2ç§ä¸ºä½¿ç”¨â€“model åé¢è·Ÿåˆå¹¶åçš„æƒé‡è·¯å¾„ã€‚\n6.1 å‘½ä»¤è¡Œæ¨ç† 1 2 3 4 5 6 7 CUDA_VISIBLE_DEVICES=0 \\ swift infer \\ --adapters /root/autodl-tmp/mytrain/output/v8-20250326-100050/checkpoint-200 \\ --infer_backend pt \\ --stream true \\ --temperature 0 \\ --max_new_tokens 2048 curlè°ƒç”¨çš„æ¨¡æ¿ï¼š\n6.2 ç•Œé¢æ¨ç† 1 2 3 4 5 6 7 CUDA_VISIBLE_DEVICES=0 \\ swift app \\ --adapters /root/autodl-tmp/mytrain/output/v8-20250326-100050/checkpoint-200 \\ --infer_backend pt \\ --stream true \\ --temperature 0 \\ --max_new_tokens 2048 7. å‘ å‘½ä»¤è¡Œå¯åŠ¨å¾®è°ƒæŠ¥é”™ åŠ è½½æ•°æ®é›†ï¼Œå ç”¨å¤§é‡ç³»ç»Ÿç›˜å†…å­˜ã€‚ åŠ è½½å¤§å‹æ•°æ®é›†æ—¶ï¼Œå¯åŠ¨æµå¼åŠ è½½ï¼ŒæŠ¥é”™ æ„å»ºè‡ªå®šä¹‰æ•°æ®é›†ï¼ŒæŒ‡å®šè·¯å¾„åŠ è½½å¤±è´¥ References\n","wordCount":"290","inLanguage":"en","datePublished":"2025-03-21T06:10:00Z","dateModified":"2025-04-11T02:22:00Z","author":{"@type":"Person","name":"Pan Binghong"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Eswift%E6%A1%86%E6%9E%B6%E5%BE%AE%E8%B0%83%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B/"},"publisher":{"@type":"Organization","name":"æˆ‘çš„åšå®¢","logo":{"@type":"ImageObject","url":"https://Pan-Binghong.github.io/daily-learning/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://Pan-Binghong.github.io/daily-learning/ accesskey=h title="æˆ‘çš„åšå®¢ (Alt + H)">æˆ‘çš„åšå®¢</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Pan-Binghong.github.io/daily-learning/ title=é¦–é¡µ><span>é¦–é¡µ</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/ai/ title=AI><span>AI</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/knowledge/ title=çŸ¥è¯†åº“><span>çŸ¥è¯†åº“</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/backend/ title=åç«¯><span>åç«¯</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/other/ title=å…¶ä»–><span>å…¶ä»–</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">åŸºäºSwiftæ¡†æ¶å¾®è°ƒå¤šæ¨¡æ€å¤§æ¨¡å‹</h1><div class=post-meta><span title='2025-03-21 06:10:00 +0000 UTC'>March 21, 2025</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></div></header><div class=post-content><blockquote><p>ğŸ’¡ è®°å½•ä½¿ç”¨Swiftæ¡†æ¶å¾®è°ƒè‡³æ¨ç†å¤šæ¨¡æ€å¤§æ¨¡å‹çš„å…¨æµç¨‹ï¼Œæ¨¡å‹é‡‡ç”¨Qwen_VL_2.5-7bã€‚</p></blockquote><hr><h1 id=1-åŸºç¡€ç¯å¢ƒå®‰è£…>1. åŸºç¡€ç¯å¢ƒå®‰è£…<a hidden class=anchor aria-hidden=true href=#1-åŸºç¡€ç¯å¢ƒå®‰è£…>#</a></h1><p><a href=https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html>https://swift.readthedocs.io/zh-cn/latest/GetStarted/SWIFT%E5%AE%89%E8%A3%85.html</a></p><p>é‡‡ç”¨pipåŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>pip install <span style=color:#e6db74>&#39;ms-swift[all]&#39;</span> <span style=color:#f92672>-</span>U
</span></span></code></pre></td></tr></table></div></div><hr><h1 id=2-ä¸‹è½½æ¨¡å‹>2. ä¸‹è½½æ¨¡å‹<a hidden class=anchor aria-hidden=true href=#2-ä¸‹è½½æ¨¡å‹>#</a></h1><p><a href=https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct>https://modelscope.cn/models/Qwen/Qwen2-VL-7B-Instruct</a></p><p>ä½¿ç”¨gitä¸‹è½½ï¼š</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>git clone https:<span style=color:#f92672>//</span>www<span style=color:#f92672>.</span>modelscope<span style=color:#f92672>.</span>cn<span style=color:#f92672>/</span>Qwen<span style=color:#f92672>/</span>Qwen2<span style=color:#f92672>-</span>VL<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>B<span style=color:#f92672>-</span>Instruct<span style=color:#f92672>.</span>git
</span></span></code></pre></td></tr></table></div></div><p>æ¨¡å‹ç›®å½•æˆªå›¾ï¼š</p><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/7295bb61-8ab0-4070-bd3f-db7e22684aec/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=7ccc77dd71d7531fb23ee4d393baa1e63e0c1ef1cd0d76a8af6d483a5d8542dc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><hr><h1 id=3-ä¸‹è½½æ•°æ®é›†>3. ä¸‹è½½æ•°æ®é›†<a hidden class=anchor aria-hidden=true href=#3-ä¸‹è½½æ•°æ®é›†>#</a></h1><h2 id=æ•°æ®é›†1>æ•°æ®é›†1<a hidden class=anchor aria-hidden=true href=#æ•°æ®é›†1>#</a></h2><p><a href=https://modelscope.cn/datasets/AI-ModelScope/coco/summary>https://modelscope.cn/datasets/AI-ModelScope/coco/summary</a></p><p>ä½¿ç”¨gitä¸‹è½½ï¼š</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>git clone https:<span style=color:#f92672>//</span>www<span style=color:#f92672>.</span>modelscope<span style=color:#f92672>.</span>cn<span style=color:#f92672>/</span>datasets<span style=color:#f92672>/</span>AI<span style=color:#f92672>-</span>ModelScope<span style=color:#f92672>/</span>coco<span style=color:#f92672>.</span>git
</span></span></code></pre></td></tr></table></div></div><p>ç›®å½•æ˜¾ç¤ºï¼š</p><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/e2c32010-8894-47d7-9179-be87793a8047/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=251856509c5ea314f0e82b8632af9f7153959d719199f14f3133bde609f3507b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><details><summary>æ•°æ®é›†é¢„è§ˆ</summary></details><hr><h2 id=æ•°æ®é›†2>æ•°æ®é›†2<a hidden class=anchor aria-hidden=true href=#æ•°æ®é›†2>#</a></h2><p><a href=https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary>https://www.modelscope.cn/datasets/wangrongsheng/LLaVa-Instruction-MLLM/summary</a></p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>git clone https:<span style=color:#f92672>//</span>www<span style=color:#f92672>.</span>modelscope<span style=color:#f92672>.</span>cn<span style=color:#f92672>/</span>datasets<span style=color:#f92672>/</span>wangrongsheng<span style=color:#f92672>/</span>LLaVa<span style=color:#f92672>-</span>Instruction<span style=color:#f92672>-</span>MLLM<span style=color:#f92672>.</span>git
</span></span></code></pre></td></tr></table></div></div><p>ä¸‹è½½åçš„ç›®å½•æ˜¾ç¤ºä¸ºï¼š</p><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/9f290508-d14b-49a4-89ef-ecca8291feda/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=b8e00d52a84bcad1d040d421bbe9266af9d34d93d2283f0bf04169b78c5c7398&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><p>è¾“å…¥ï¼šunzip llava_ins_image.zip è§£å‹å›¾ç‰‡å‹ç¼©åŒ…ã€‚å¾—åˆ°ä»¥ä¸Šçº¢æ¡†å†…å®¹ã€‚</p><details><summary>æ•°æ®é›†æˆªå›¾é¢„è§ˆ</summary></details><hr><h1 id=4-å¾®è°ƒ>4. å¾®è°ƒ<a hidden class=anchor aria-hidden=true href=#4-å¾®è°ƒ>#</a></h1><h2 id=41-æ£€æŸ¥å¾®è°ƒç¯å¢ƒ>4.1 æ£€æŸ¥å¾®è°ƒç¯å¢ƒ<a hidden class=anchor aria-hidden=true href=#41-æ£€æŸ¥å¾®è°ƒç¯å¢ƒ>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>pip list <span style=color:#f92672>|</span> grep swift
</span></span><span style=display:flex><span><span style=color:#75715e># å›æ˜¾ä¸€ä¸‹å†…å®¹è¡¨ç¤ºæ­£ç¡®</span>
</span></span><span style=display:flex><span>ms_swift                       <span style=color:#ae81ff>3.2.1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=42-åŸºäºwebuiå¾®è°ƒ>4.2 åŸºäºWebUIå¾®è°ƒ<a hidden class=anchor aria-hidden=true href=#42-åŸºäºwebuiå¾®è°ƒ>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>swift web<span style=color:#f92672>-</span>ui <span style=color:#f92672>--</span>lang zh
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/ebb06fd5-bb6f-414a-98c0-d283637dd059/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=e6f2a1fe2e5a2d6c1cdeae5a238798d20e8dcd5b62a9f6ea0f871a2310b95702&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><h2 id=43-åŸºäºå‘½ä»¤è¡Œå¾®è°ƒ>4.3 åŸºäºå‘½ä»¤è¡Œå¾®è°ƒ<a hidden class=anchor aria-hidden=true href=#43-åŸºäºå‘½ä»¤è¡Œå¾®è°ƒ>#</a></h2><p>å‚æ•°è¯¦ç»†å‚è€ƒï¼šhttps://swift.readthedocs.io/zh-cn/latest/Instruction/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0.html</p><h3 id=431-å¾®è°ƒcocoæ•°æ®é›†>4.3.1 å¾®è°ƒcocoæ•°æ®é›†<a hidden class=anchor aria-hidden=true href=#431-å¾®è°ƒcocoæ•°æ®é›†>#</a></h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># æ˜¾å­˜èµ„æºï¼š24GiB</span>
</span></span><span style=display:flex><span>CUDA_VISIBLE_DEVICES<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> \
</span></span><span style=display:flex><span>MAX_PIXELS<span style=color:#f92672>=</span><span style=color:#ae81ff>1003520</span> \
</span></span><span style=display:flex><span>swift sft \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>model <span style=color:#f92672>/</span>root<span style=color:#f92672>/</span>autodl<span style=color:#f92672>-</span>tmp<span style=color:#f92672>/</span>multimodal<span style=color:#f92672>/</span>Qwen2<span style=color:#f92672>-</span>VL<span style=color:#f92672>-</span><span style=color:#ae81ff>7</span>B<span style=color:#f92672>-</span>Instruct \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>dataset <span style=color:#e6db74>&#39;/root/autodl-tmp/datasets/coco#1000&#39;</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>train_type lora \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>torch_dtype bfloat16 \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>num_train_epochs <span style=color:#ae81ff>1</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>per_device_train_batch_size <span style=color:#ae81ff>1</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>per_device_eval_batch_size <span style=color:#ae81ff>1</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>learning_rate <span style=color:#ae81ff>1e-4</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>lora_rank <span style=color:#ae81ff>8</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>lora_alpha <span style=color:#ae81ff>32</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>target_modules all<span style=color:#f92672>-</span>linear \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>freeze_vit true \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>gradient_accumulation_steps <span style=color:#ae81ff>16</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>save_steps <span style=color:#ae81ff>100</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>save_total_limit <span style=color:#ae81ff>5</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>logging_steps <span style=color:#ae81ff>5</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>max_length <span style=color:#ae81ff>2048</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>output_dir output \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>warmup_ratio <span style=color:#ae81ff>0.05</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>dataloader_num_workers <span style=color:#ae81ff>4</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>dataset_num_proc <span style=color:#ae81ff>4</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>streaming true \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>max_steps <span style=color:#ae81ff>2000</span> \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>enable_cache true \
</span></span><span style=display:flex><span>    <span style=color:#f92672>--</span>split_dataset_ratio <span style=color:#ae81ff>0</span>
</span></span></code></pre></td></tr></table></div></div><details><summary>è®­ç»ƒè®°å½•æˆªå›¾</summary></details><hr><h3 id=432-å¾®è°ƒllava-intruction-mllmæ•°æ®é›†>4.3.2 å¾®è°ƒLLava-Intruction-MLLMæ•°æ®é›†<a hidden class=anchor aria-hidden=true href=#432-å¾®è°ƒllava-intruction-mllmæ•°æ®é›†>#</a></h3><ul><li>è¿›å…¥åˆ°æ•°æ®é›†æ€»ç›®å½•ä¸‹ï¼Œcd /root/autodl-tmp/LLaVa-Instruction-MLLM</li><li>åˆ›å»ºå¾®è°ƒè„šæœ¬train.shï¼Œå†™å…¥å¾®è°ƒå‘½ä»¤ï¼š</li><li>å‡çº§è„šæœ¬æƒé™: chmod +x train.sh</li><li>æ‰§è¡Œå¾®è°ƒè„šæœ¬: ./train.sh</li></ul><details><summary>è®­ç»ƒè®°å½•æˆªå›¾</summary></details><hr><h3 id=433-å¾®è°ƒè‡ªå®šä¹‰æ•°æ®é›†>4.3.3 å¾®è°ƒè‡ªå®šä¹‰æ•°æ®é›†<a hidden class=anchor aria-hidden=true href=#433-å¾®è°ƒè‡ªå®šä¹‰æ•°æ®é›†>#</a></h3><ul><li>æ„å»ºæ•°æ®é›†ï¼Œé‡‡ç”¨jsonçš„æ ¼å¼ï¼Œæ•°æ®å†…å®¹å¦‚ä¸‹:</li><li>è®­ç»ƒè„šæœ¬:</li></ul><details><summary>è®­ç»ƒè®°å½•æˆªå›¾</summary></details><h2 id=44-åŸºäºpythonä»£ç å¾®è°ƒ>4.4 åŸºäºPythonä»£ç å¾®è°ƒ<a hidden class=anchor aria-hidden=true href=#44-åŸºäºpythonä»£ç å¾®è°ƒ>#</a></h2><h2 id=45-è®­ç»ƒå®Œæ¯•æ£€æŸ¥>4.5 è®­ç»ƒå®Œæ¯•æ£€æŸ¥<a hidden class=anchor aria-hidden=true href=#45-è®­ç»ƒå®Œæ¯•æ£€æŸ¥>#</a></h2><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/daac323a-2e0e-41b3-a36f-ac137beb2139/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=03a6e67035c989ae7a03aac0a7f7e7d7985f2a8d5289cd0dddcb85f685de0fb3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><hr><h1 id=5-loraåˆå¹¶>5. Loraåˆå¹¶<a hidden class=anchor aria-hidden=true href=#5-loraåˆå¹¶>#</a></h1><p><a href=https://github.com/modelscope/ms-swift/blob/main/examples/export/merge_lora.sh>https://github.com/modelscope/ms-swift/blob/main/examples/export/merge_lora.sh</a></p><ol><li>æ‰¾åˆ°å¾®è°ƒåæ¨¡å‹çš„è¾“å‡ºè·¯å¾„ï¼Œä¾‹å¦‚output/vx-xxx/checkpoint-xxx</li><li>åœ¨ç»ˆç«¯è¾“å…¥:</li></ol><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>swift export <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --adapters output/vx-xxx/checkpoint-xxx <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --merge_lora true
</span></span></code></pre></td></tr></table></div></div><ol><li>åˆå¹¶å®Œæˆ</li></ol><hr><h1 id=6-æ¨ç†>6. æ¨ç†<a hidden class=anchor aria-hidden=true href=#6-æ¨ç†>#</a></h1><p>æ¨ç†ä»åº•å±‚é€»è¾‘è®²ï¼Œåˆ†ä¸º2ç§æ–¹å¼ï¼Œç¬¬2ç§ä¸ºç›´æ¥ä½¿ç”¨åˆšæ‰å¾®è°ƒåçš„æ–‡ä»¶ã€‚å³ä½¿ç”¨&ndash;adapters åé¢è·Ÿæ–‡ä»¶è·¯å¾„ã€‚ç¬¬2ç§ä¸ºä½¿ç”¨&ndash;model åé¢è·Ÿåˆå¹¶åçš„æƒé‡è·¯å¾„ã€‚</p><h2 id=61-å‘½ä»¤è¡Œæ¨ç†>6.1 å‘½ä»¤è¡Œæ¨ç†<a hidden class=anchor aria-hidden=true href=#61-å‘½ä»¤è¡Œæ¨ç†>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>CUDA_VISIBLE_DEVICES<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>swift infer <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --adapters /root/autodl-tmp/mytrain/output/v8-20250326-100050/checkpoint-200 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --infer_backend pt <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --stream true <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --temperature <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --max_new_tokens <span style=color:#ae81ff>2048</span>
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/be53aea1-24f9-45f5-97b4-d3873d4ec917/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=7af7035bc215bab609c15b21c08adefe71fae7ec0d227354e962585162e45680&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><blockquote><p>curlè°ƒç”¨çš„æ¨¡æ¿ï¼š</p></blockquote><h2 id=62-ç•Œé¢æ¨ç†>6.2 ç•Œé¢æ¨ç†<a hidden class=anchor aria-hidden=true href=#62-ç•Œé¢æ¨ç†>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>CUDA_VISIBLE_DEVICES<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>swift app <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --adapters /root/autodl-tmp/mytrain/output/v8-20250326-100050/checkpoint-200 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --infer_backend pt <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --stream true <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --temperature <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    --max_new_tokens <span style=color:#ae81ff>2048</span>
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/0528f89b-d12b-496f-b3f4-61228d8af710/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662FQ5LWMQ%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014257Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC8Nb6eb2GrfYgwklkxj5nIxePpbFJaby4N9I01nFMbvAIgYAu9wBsuVHco7cvbzsFFrj4QwNvXzl%2FWFT2%2B8ZlzD7AqiAQImv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDALMfYC5AarOyy3aDCrcA5dX6aDPiZLYVWYzaxzLL5y%2F0yUaiSGP3SMtJIjcQXq6Zi92vHhJlef8BV23n9n5c2JvWj8KJx7Rf7W8nMJTR2jc6X0MR4hBiIq3NiODcfW6wb6IxMFIsiPgn9bdcGxspd8FCOvktjWRqHa5lZGcEP7%2Bqhuo3osk%2FRXLEsIBmJqg4jd8S32IHuChjKLVAeAyd9odsvW9HPY8lN6Eu%2FuOCY6E9gG20DYMTr9a115YVqux5m76oM%2Bn1skqTQJX%2BmZkpNpJGe3bgDKBHv%2BeroBe2IxR%2FOKV29%2BwgZOc4erZurxvLEL7dj1VliB3rYYB28y1hry4hvXc7obWKutVU%2BuTsg6N5s4EjJTJE621dqM62ykzJxr5niNnZ%2BtJ73A4nHeizWlIRPjWxyORDw5prfxhVcTkTpNL1Rihh29xYPeLvmeCPqXm3w5EFh%2BQpR1VM4jCUoaaOREUfnc1RSN0K04h42y12MovjOSRHKyxTss96vuVSqcpKBfV3274aOtRVZShglyaieRiZP5jwH5oPDppj6sdxEWfJDWrgQuR4qAPoSMdvLmyX5q0c3LGue9mUH9LZmc5LLcZiHfClbEkN%2FIObaUyKf7CHBbeBzz0IHrSEM3iY995alrwZm0HyjuLMMXwr8gGOqUBjOS9hs3nT4rAehMgUkngalN5%2FsaEQOyDTNooSueQNPM%2FHx6Fmyc2jgI%2B5KI3M7q6mVnZJU9KQrTzEihxzEuUoC0emH%2Bn9dqFCO5hlcX5HZHCUorxtXZMHQjyzntzq0YELbb8DpgA%2B4UuaRmjpxizLzWU6cB1kDl9je5kjGZahXsM%2Bn65VM39Sv0dDSKLxt6E3m2%2B9TZUPaAT9mB5KHPKGle348JV&X-Amz-Signature=587682dfc331e6f15a0abf393f62213fe001d8b5fa0d1f570b37ffa2af589877&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><hr><h1 id=7-å‘>7. å‘<a hidden class=anchor aria-hidden=true href=#7-å‘>#</a></h1><ol><li>å‘½ä»¤è¡Œå¯åŠ¨å¾®è°ƒæŠ¥é”™</li><li>åŠ è½½æ•°æ®é›†ï¼Œå ç”¨å¤§é‡ç³»ç»Ÿç›˜å†…å­˜ã€‚</li><li>åŠ è½½å¤§å‹æ•°æ®é›†æ—¶ï¼Œå¯åŠ¨æµå¼åŠ è½½ï¼ŒæŠ¥é”™</li><li>æ„å»ºè‡ªå®šä¹‰æ•°æ®é›†ï¼ŒæŒ‡å®šè·¯å¾„åŠ è½½å¤±è´¥</li></ol><hr><blockquote><p>References</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://Pan-Binghong.github.io/daily-learning/tags/swift/>Swift</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://Pan-Binghong.github.io/daily-learning/>æˆ‘çš„åšå®¢</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>