<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ais | Pan Binghong's Tech Blog</title><meta name=keywords content><meta name=description content="Ais - Pan Binghong's Tech Blog"><meta name=author content="Pan Binghong"><link rel=canonical href=https://Pan-Binghong.github.io/daily-learning/ai/><link crossorigin=anonymous href=/daily-learning/assets/css/stylesheet.26e2565a26afd98e74ad96ce3133881d1fbd8f2961f755ab00734d8d5a768e04.css integrity="sha256-JuJWWiav2Y50rZbOMTOIHR+9jylh91WrAHNNjVp2jgQ=" rel="preload stylesheet" as=style><link rel=icon href=https://Pan-Binghong.github.io/daily-learning/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Pan-Binghong.github.io/daily-learning/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Pan-Binghong.github.io/daily-learning/favicon-32x32.png><link rel=apple-touch-icon href=https://Pan-Binghong.github.io/daily-learning/apple-touch-icon.png><link rel=mask-icon href=https://Pan-Binghong.github.io/daily-learning/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://Pan-Binghong.github.io/daily-learning/ai/index.xml title=rss><link rel=alternate hreflang=en href=https://Pan-Binghong.github.io/daily-learning/ai/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://Pan-Binghong.github.io/daily-learning/ai/"><meta property="og:site_name" content="Pan Binghong's Tech Blog"><meta property="og:title" content="Ais"><meta property="og:description" content="è®°å½•æŠ€æœ¯æˆé•¿çš„æ¯ä¸€æ­¥ - AIã€åç«¯ã€DevOps å­¦ä¹ ç¬”è®°"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ais"><meta name=twitter:description content="è®°å½•æŠ€æœ¯æˆé•¿çš„æ¯ä¸€æ­¥ - AIã€åç«¯ã€DevOps å­¦ä¹ ç¬”è®°"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ais","item":"https://Pan-Binghong.github.io/daily-learning/ai/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://Pan-Binghong.github.io/daily-learning/ accesskey=h title="Pan Binghong's Tech Blog (Alt + H)">Pan Binghong's Tech Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Pan-Binghong.github.io/daily-learning/ title="ğŸ  é¦–é¡µ"><span>ğŸ  é¦–é¡µ</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/ai/ title="ğŸ¤– AI"><span class=active>ğŸ¤– AI</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/knowledge/ title="ğŸ“š çŸ¥è¯†åº“"><span>ğŸ“š çŸ¥è¯†åº“</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/backend/ title="âš™ï¸ åç«¯"><span>âš™ï¸ åç«¯</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/devops/ title="ğŸ”§ DevOps"><span>ğŸ”§ DevOps</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/other/ title="ğŸ“ å…¶ä»–"><span>ğŸ“ å…¶ä»–</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/search/ title="ğŸ” æœç´¢"><span>ğŸ” æœç´¢</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/archives/ title="ğŸ“‚ å½’æ¡£"><span>ğŸ“‚ å½’æ¡£</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://Pan-Binghong.github.io/daily-learning/>Home</a></div><h1>Ais
<a href=/daily-learning/ai/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>é—­æºå¤§æ¨¡å‹è°ƒç”¨ç¤ºä¾‹</h2></header><div class=entry-content><p>ğŸ’¡ æ•´åˆä¸€ä¸‹çƒ­é—¨çš„é—­æºå¤§æ¨¡å‹ï¼ŒåŸºäºPythonä½¿ç”¨å„æ¨¡å‹å‚å®¶çš„SDKè°ƒç”¨å¸¸ç”¨æ¨¡å‹ã€‚
æ•´ä¸ªé¡¹ç›®å‡å·²ä¸Šä¼ è‡³githubï¼Œæ²¡æœ‰ä½¿ç”¨è¿‡åœ¨çº¿APIæ¨¡å‹çš„å°ä¼™ä¼´å¯ä»¥ä½“éªŒä¸€ä¸‹ã€‚</p></div><footer class=entry-footer><span title='2024-12-13 14:05:00 +0000 UTC'>December 13, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to é—­æºå¤§æ¨¡å‹è°ƒç”¨ç¤ºä¾‹" href=https://Pan-Binghong.github.io/daily-learning/ai/%E9%97%AD%E6%BA%90%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%B0%83%E7%94%A8%E7%A4%BA%E4%BE%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åŸºäºè”é€šäº‘AIç®—åŠ›å¹³å°è®­ç»ƒLlama2-13Bä»»åŠ¡æµ‹è¯•</h2></header><div class=entry-content><p>ğŸ’¡ è‡ªå·±è®°å½•ä¸€ä¸‹ã€‚
ä¸€ã€å‡†å¤‡ç¯å¢ƒ 1. åˆ›å»ºNotebook1.åˆ›å»ºNotebook åœ¨åˆ›å»ºNotebookæ—¶ï¼Œæ ¹æ®ä»¥ä¸‹é€‰é¡¹è¿›è¡Œé…ç½®ï¼š
ä»˜è´¹ç±»å‹ï¼šæŒ‰é‡è®¡è´¹ åç§°ï¼šllama2 äº‘åŒºåŸŸï¼š[ä¿å¯†] ç®—åŠ›è§„æ ¼ï¼š[ä¿å¯†] é•œåƒï¼šå…¬å…±é•œåƒ jupyter:pytorch2.1.0-cann7 å­˜å‚¨å·ï¼šAIåŸç”Ÿå­˜å‚¨ ç¡®è®¤é…ç½®åç‚¹å‡»â€œåˆ›å»ºâ€ï¼Œä¸€æ®µæ—¶é—´åNotebookåˆ›å»ºå®Œæˆï¼Œç‚¹å‡»â€œæ‰“å¼€â€è¿›å…¥ã€‚ 2. å®‰è£…ä¾èµ– 2.1 ä¸‹è½½ä»£ç å’Œæ•°æ® æ‰“å¼€ç»ˆç«¯ï¼Œåœ¨å½“å‰ç”¨æˆ·æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥ä¸‹è½½ä»£ç ã€æƒé‡å’Œæ•°æ®é›†ï¼š ä¸‹è½½ git-lfsï¼š å®‰è£… git-lfsï¼š åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€éœ€ä¾èµ–ï¼š 1 2 3 4 5 cd AscendSpeed pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple cd .. cd ModelLink pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple 3. åˆ›å»ºCondaç¯å¢ƒ å°†baseç¯å¢ƒæ‹·è´ä¸ºæ–°çš„condaç¯å¢ƒï¼š
1 conda create -n test1 --clone bas 4. æ‰“åŒ…æ–°ç¯å¢ƒ è¿›å…¥æ–°ç¯å¢ƒå¹¶æ¿€æ´»ï¼š å®‰è£… conda-packï¼š æ‰“åŒ…æ–°ç¯å¢ƒåˆ°æ–‡ä»¶å¤¹ï¼š 5. è¿”å›baseç¯å¢ƒå¹¶å®‰è£…ä¾èµ– è¿”å›baseç¯å¢ƒå¹¶å®‰è£…å¿…è¦çš„ä¾èµ–ï¼š 6. å¤„ç†æ•°æ®é›† è¿›å…¥ ModelLink ç›®å½•å¹¶ç¼–è¾‘ dataset.sh æ–‡ä»¶ï¼š åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š æ‰§è¡Œæ•°æ®å¤„ç†å‘½ä»¤ï¼š 7. åˆ›å»ºè®­ç»ƒè„šæœ¬ åœ¨ examples/llama2/ ç›®å½•ä¸‹åˆ›å»ºè®­ç»ƒè„šæœ¬ pretrain_llama2_13B_ptd_8p_2.shï¼Œå†…å®¹å¦‚ä¸‹ï¼š åˆ›å»º train_1.sh è„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š äºŒã€åˆ›å»ºè®­ç»ƒä»»åŠ¡ åœ¨æäº¤ä»»åŠ¡æ—¶ï¼Œé€‰æ‹©ä»¥ä¸‹é…ç½®ï¼š
...</p></div><footer class=entry-footer><span title='2024-11-26 07:43:00 +0000 UTC'>November 26, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to åŸºäºè”é€šäº‘AIç®—åŠ›å¹³å°è®­ç»ƒLlama2-13Bä»»åŠ¡æµ‹è¯•" href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8E%E8%81%94%E9%80%9A%E4%BA%91ai%E7%AE%97%E5%8A%9B%E5%B9%B3%E5%8F%B0%E8%AE%AD%E7%BB%83llama2-13b%E4%BB%BB%E5%8A%A1%E6%B5%8B%E8%AF%95/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åŸºäºModelArtséƒ¨ç½²AIæœåŠ¡_æ–‡å­—çº¯äº«ç‰ˆ</h2></header><div class=entry-content><p>ğŸ’¡ è®°å½•æ“ä½œè¿‡ç¨‹ã€‚å¤§æ¦‚åªæœ‰è‡ªå·±çœ‹å¾—æ‡‚ã€‚
ä¸Šä¼ æ¨¡å‹ ä¸Šä¼ åˆ°OBSå†…ï¼Œç‰¹æ®Šè¦æ±‚ï¼šOBSæ–‡ä»¶å¤¹åç§°å¿…é¡»ä¸ºmodelç»“å°¾ ä¸Šä¼ æ¨ç†è„šæœ¬ ä¸Šä¼ åˆ°OBSå†…ï¼Œç‰¹æ®Šè¦æ±‚ï¼šè„šæœ¬æ–‡ä»¶åç§°å¿…é¡»ä¸ºrun_vllm.sh åœ¨ESCï¼ˆå¼¹æ€§äº‘ï¼‰ä¸Šç”Ÿæˆç§é’¥ï¼Œå¹¶ä¸Šä¼  è¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ª 2048 ä½çš„ RSA ç§é’¥ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°åä¸º key.pem çš„æ–‡ä»¶ä¸­ã€‚
åŸºäºä¹‹å‰ç”Ÿæˆçš„ key.pem ç§é’¥ï¼Œåˆ›å»ºä¸€ä¸ªæœ‰æ•ˆæœŸä¸º 1095 å¤©çš„è‡ªç­¾å X.509 è¯ä¹¦ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ° cert.pem æ–‡ä»¶ä¸­
OBSå¤åˆ¶
ä¸Šä¼ é•œåƒ é€‰æ‹©åä¸ºäº‘å†…çš„ å®¹å™¨é•œåƒæœåŠ¡SWR æœåŠ¡æ¨¡å—
ç‚¹å‡»â€åˆ›å»ºç»„ç»‡â€œæŒ‰é’® ç‚¹å‡»â€ç™»å½•æŒ‡ä»¤â€œæŒ‰é’® ç™»å½•escæœåŠ¡å™¨ åˆ›å»ºAIåº”ç”¨ ç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’® è·³è½¬æ–°é¡µé¢ï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ ç‚¹å‡»â€œç«‹å³åˆ›å»ºâ€æŒ‰é’® éƒ¨ç½²ä¸Šçº¿ é€‰æ‹©â€œåœ¨çº¿æœåŠ¡â€ ç‚¹å‡»â€éƒ¨ç½²â€œæŒ‰é’® è·³è½¬æ–°é¡µé¢ï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ ç‚¹å‡»â€ç«‹å³åˆ›å»ºâ€œæŒ‰é’® é¢„æµ‹æµ‹è¯• ç‚¹å‡»åˆšæ‰ä¸Šçº¿æˆåŠŸçš„æœåŠ¡ï¼Œè¿›å…¥ é€‰æ‹©â€œé¢„æµ‹â€ è®¾ç½®è¯·æ±‚è·¯å¾„ä¸ºï¼š/generate è¾“å…¥ä»£ç  ç‚¹å‡»â€œé¢„æµ‹â€æŒ‰é’®</p></div><footer class=entry-footer><span title='2024-11-26 02:41:00 +0000 UTC'>November 26, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to åŸºäºModelArtséƒ¨ç½²AIæœåŠ¡_æ–‡å­—çº¯äº«ç‰ˆ" href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Emodelarts%E9%83%A8%E7%BD%B2ai%E6%9C%8D%E5%8A%A1_%E6%96%87%E5%AD%97%E7%BA%AF%E4%BA%AB%E7%89%88/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Difyå·¥ä½œæµæ¡ˆä¾‹å¤ç°</h2></header><div class=entry-content><p>ğŸ’¡ å‚è€ƒBç«™è§†é¢‘è¿›è¡Œå¤ç°ã€‚
DSLåŸå§‹æ–‡ä»¶ References</p></div><footer class=entry-footer><span title='2024-11-25 02:07:00 +0000 UTC'>November 25, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Difyå·¥ä½œæµæ¡ˆä¾‹å¤ç°" href=https://Pan-Binghong.github.io/daily-learning/ai/dify%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%A1%88%E4%BE%8B%E5%A4%8D%E7%8E%B0/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å¤šæ¨¡æ€å¤§æ¨¡å‹_mPLUG-Owl_éƒ¨ç½²</h2></header><div class=entry-content><p>ğŸ’¡ æ”¯æŒè§†é¢‘ä»¥åŠå›¾ç‰‡æ¨ç†çš„å¤šæ¨¡æ€å¤§æ¨¡å‹mPLUG-Owlã€‚ è®°å½•å®‰è£…ï¼Œæ¨ç†çš„æ‰€æœ‰æ“ä½œè¿‡ç¨‹ã€‚
ç¯å¢ƒé…ç½® Anacondaå®‰è£… åˆ›å»ºæ–°ç¯å¢ƒ ä¸‹è½½ä»£ç ä»“åº“ å®‰è£…ä¾èµ–åŒ… é¢å¤–å®‰è£… æ¨¡å‹ä¸‹è½½ mPLUG-Owl3æœ‰2ä¸ªç‰ˆæœ¬ï¼ˆ2Bã€7Bï¼‰ï¼Œä¸ºäº†æ›´å¿«çš„ä½“éªŒï¼Œæœ¬æ¬¡å®éªŒé€‰ç”¨2Bå‚æ•°ç‰ˆæœ¬çš„æ¨¡å‹ã€‚
é­”å¡”ç¤¾åŒºæ‰¾åˆ°æ¨¡å‹ä»“åº“åœ°å€ ä¸‹è½½å‘½ä»¤ æŸ¥çœ‹ æ¨¡å‹æ¨ç† å‚è€ƒå®˜æ–¹READMEæ–‡æ¡£ï¼Œåˆ›å»ºæ¨ç†demo.py pyæ–‡ä»¶å†…å†™å…¥æ¨ç†ä»£ç  References</p></div><footer class=entry-footer><span title='2024-11-22 01:44:00 +0000 UTC'>November 22, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to å¤šæ¨¡æ€å¤§æ¨¡å‹_mPLUG-Owl_éƒ¨ç½²" href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%A4%9A%E6%A8%A1%E6%80%81%E5%A4%A7%E6%A8%A1%E5%9E%8B_mplug-owl_%E9%83%A8%E7%BD%B2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Difyç§æœ‰åŒ–éƒ¨ç½²</h2></header><div class=entry-content><p>1.åˆ›å»ºæœåŠ¡å™¨å‡†å¤‡å·¥ä½œ æ— è®ºæ˜¯åœ¨æœ¬åœ°çš„æœåŠ¡å™¨è¿˜æ˜¯åœ¨ç½‘ä¸Šçš„æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼Œè…¾è®¯äº‘ï¼Œå¤©ç¿¼äº‘â€¦ï¼‰éƒ½è¦æ»¡è¶³è¿™ä¸ªé…ç½®,è‡³å°‘è¦æœ‰2ä¸ªcpuæ ¸å¿ƒå¹¶ä¸”æœ‰4gçš„å†…å­˜
æœåŠ¡å™¨çš„ç³»ç»Ÿé€‰æ‹©Ubuntu 22.04ç‰ˆæœ¬å¹¶ä¸”å…‹éš† Dify æºä»£ç è‡³æœ¬åœ°ç¯å¢ƒ
1 git clone https://github.com/langgenius/dify.git 2.å®‰è£…dockerå’Œdocker compose é¦–å…ˆï¼Œç¡®ä¿ä½ çš„è½¯ä»¶åŒ…æ˜¯æœ€æ–°çš„ï¼š 1 2 sudo apt-get update sudo apt-get upgrade -y å®‰è£…docker ç¬¬ä¸€ç§æ–¹æ³•(ä¸€é”®å®‰è£…) 1 curl -sSL get-docker.geekery.cn | bash ç¬¬äºŒç§æ–¹æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # å®‰è£…å¿…è¦çš„ä¾èµ–ï¼Œè®©aptæ”¯æŒhttps sudo apt-get install -y apt-transport-https ca-certificates curl software-properties-common # æ·»åŠ  Docker çš„å®˜æ–¹ GPG å¯†é’¥ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg # æ·»åŠ  Docker APT ä»“åº“ echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null # æ›´æ–° APT åŒ…ç´¢å¼• sudo apt-get update # å®‰è£… Docker CE sudo apt-get install -y docker-ce #éªŒè¯å®‰è£… docker version å®‰è£…docker compose ä¸‹è½½æœ€æ–°çš„ Docker Compose äºŒè¿›åˆ¶æ–‡ä»¶ 1 sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose ä¸º Docker Compose äºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ æ‰§è¡Œæƒé™ 1 sudo chmod +x /usr/local/bin/docker-compose éªŒè¯å®‰è£… 1 docker-compose --version 3.dockeræ¢æºå’Œé…ç½®DNS dockeræ¢æº é¦–å…ˆè¾“å…¥
...</p></div><footer class=entry-footer><span title='2024-11-15 09:08:00 +0000 UTC'>November 15, 2024</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Difyç§æœ‰åŒ–éƒ¨ç½²" href=https://Pan-Binghong.github.io/daily-learning/ai/dify%E7%A7%81%E6%9C%89%E5%8C%96%E9%83%A8%E7%BD%B2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ä½¿ç”¨è‡ªå·±çš„æ•°æ®é›†å¾®è°ƒLlama3-8b</h2></header><div class=entry-content><p>ğŸ’¡ é‡‡ç”¨Llmafactoryå¾®è°ƒæ¡†æ¶ä»¥åŠXinferenceæ¨ç†æ¡†æ¶ï¼Œå®ŒæˆåŸºäºè‡ªå®šä¹‰çš„æ•°æ®é›†ï¼Œå¾®è°ƒLlama3-8Bæ¨¡å‹ã€‚è®°å½•å…¨è¿‡ç¨‹ã€‚
è®¾å¤‡ä¿¡æ¯ æ•°æ® æ•°æ®é›†è·¯å¾„ æ•°æ®é›†å±•ç¤º æ•°æ®é›†ä»‹ç» æ¨¡å‹ ğŸ’¡ æ¨¡å‹ä¸‹è½½ä»¥åŠæ¨¡å‹éƒ¨ç½²ç›¸å…³çš„éƒ¨åˆ†ï¼Œå¯å‚è€ƒè¿™ç¯‡åšå®¢ã€‚
å¯åŠ¨Xinference æ¨¡å‹ä¸‹è½½ æ¨¡å‹éƒ¨ç½² æ“ä½œè®°å½• è®­ç»ƒ ğŸ’¡ è®­ç»ƒæ¡†æ¶Llama-Factoryç›¸å…³çš„éƒ¨åˆ†ï¼Œå¯å‚è€ƒè¿™ç¯‡åšå®¢ã€‚
è®­ç»ƒç¯å¢ƒå®‰è£… References</p></div><footer class=entry-footer><span title='2024-11-15 01:49:00 +0000 UTC'>November 15, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to ä½¿ç”¨è‡ªå·±çš„æ•°æ®é›†å¾®è°ƒLlama3-8b" href=https://Pan-Binghong.github.io/daily-learning/ai/%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86%E5%BE%AE%E8%B0%83llama3-8b/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>è®ºæ–‡å¤ç°_CliBench</h2></header><div class=entry-content><p>ğŸ’¡ å¯¹å¤§å‹è¯­è¨€æ¨¡å‹åœ¨è¯Šæ–­ã€æ‰‹æœ¯ã€å®éªŒå®¤æµ‹è¯•è®¢å•å’Œå¤„æ–¹ç­‰ä¸´åºŠå†³ç­–ä¸­çš„å¤šæ–¹é¢è¯„ä¼°ã€‚
æ–‡ç« ä»‹ç» è®ºæ–‡ç®€ä»‹ å°†äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰ï¼Œç‰¹åˆ«æ˜¯å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆ LLMs ï¼‰é›†æˆåˆ°ä¸´åºŠè¯Šæ–­è¿‡ç¨‹ä¸­ï¼Œä¸ºæé«˜åŒ»ç–—ä¿å¥çš„æ•ˆç‡å’Œå¯åŠæ€§æä¾›äº†å·¨å¤§çš„æ½œåŠ›ã€‚è™½ç„¶LLMsåœ¨åŒ»å­¦é¢†åŸŸæ˜¾ç¤ºå‡ºäº†ä¸€äº›å‰æ™¯ï¼Œä½†å®ƒä»¬åœ¨ä¸´åºŠè¯Šæ–­ä¸­çš„åº”ç”¨ä»æœªå¾—åˆ°å……åˆ†æ¢ç´¢ï¼Œç‰¹åˆ«æ˜¯åœ¨ç°å®ä¸–ç•Œçš„ä¸´åºŠå®è·µä¸­ï¼Œéœ€è¦åšå‡ºé«˜åº¦å¤æ‚çš„ã€é’ˆå¯¹æ‚£è€…çš„å†³ç­–ã€‚ç›®å‰è¯¥é¢†åŸŸLLMsçš„è¯„ä¼°èŒƒå›´å¾€å¾€è¾ƒçª„ï¼Œä¾§é‡äºç‰¹å®šç–¾ç—…æˆ–ä¸“ä¸šå¹¶é‡‡ç”¨ç®€åŒ–çš„è¯Šæ–­ä»»åŠ¡ã€‚ä¸ºäº†å¼¥è¡¥è¿™ä¸€å·®è·ï¼Œæˆ‘ä»¬å¼•å…¥äº† CliBenchï¼Œè¿™æ˜¯ä¸€ç§æ ¹æ® MIMIC IV æ•°æ®é›†å¼€å‘çš„æ–°å‹åŸºå‡†ï¼Œå¯ä»¥å¯¹LLMsçš„ä¸´åºŠè¯Šæ–­èƒ½åŠ›è¿›è¡Œå…¨é¢è€Œç°å®çš„è¯„ä¼°ã€‚è¯¥åŸºå‡†ä¸ä»…æ¶µç›–å„ä¸ªä¸“ä¸šçš„å„ç§åŒ»ç–—æ¡ˆä¾‹çš„è¯Šæ–­ï¼Œè¿˜åŒ…å«å…·æœ‰ä¸´åºŠæ„ä¹‰çš„ä»»åŠ¡ï¼šæ²»ç–—ç¨‹åºè¯†åˆ«ã€å®éªŒå®¤æµ‹è¯•å®‰æ’å’Œè¯ç‰©å¤„æ–¹ã€‚åœ¨ç»“æ„åŒ–è¾“å‡ºæœ¬ä½“çš„æ”¯æŒä¸‹ï¼ŒCliBench èƒ½å¤Ÿè¿›è¡Œç²¾ç¡®çš„å¤šç²’åº¦è¯„ä¼°ï¼Œè®©æ‚¨æ·±å…¥äº†è§£LLMåœ¨æ‰€éœ€ç²’åº¦çš„å„ç§ä¸´åºŠä»»åŠ¡ä¸Šçš„èƒ½åŠ›ã€‚æˆ‘ä»¬å¯¹é¢†å…ˆçš„LLMsè¿›è¡Œé›¶æ ·æœ¬è¯„ä¼°ï¼Œä»¥è¯„ä¼°ä»–ä»¬åœ¨ä¸´åºŠå†³ç­–æ–¹é¢çš„ç†Ÿç»ƒç¨‹åº¦ã€‚æˆ‘ä»¬çš„åˆæ­¥ç»“æœæ­ç¤ºäº†å½“å‰LLMsåœ¨ä¸´åºŠç¯å¢ƒä¸­çš„æ½œåŠ›å’Œå±€é™æ€§ï¼Œä¸ºLLMé©±åŠ¨çš„åŒ»ç–—ä¿å¥çš„æœªæ¥è¿›æ­¥æä¾›äº†å®è´µçš„è§è§£ã€‚
æ ¸å¿ƒç›®çš„ æœ¬è®ºæ–‡æ—¨åœ¨æ¢è®¨å¦‚ä½•å°†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰åº”ç”¨äºä¸´åºŠè¯Šæ–­è¿‡ç¨‹ä¸­ï¼Œä»¥æé«˜åŒ»ç–—ä¿å¥çš„æ•ˆç‡å’Œå¯è®¿é—®æ€§ã€‚ç„¶è€Œï¼Œç›®å‰åœ¨çœŸå®ä¸´åºŠå®è·µä¸­ï¼ŒLLMsåœ¨ä¸´åºŠè¯Šæ–­ä¸­çš„åº”ç”¨ä»æœªå¾—åˆ°å……åˆ†æ¢ç´¢ã€‚
å®éªŒæ€è·¯ æœ¬è®ºæ–‡æå‡ºäº†ä¸€ä¸ªåä¸ºCliBenchçš„åŸºå‡†æµ‹è¯•ï¼Œå®ƒæ¶µç›–äº†æ¥è‡ªä¸åŒä¸“ä¸šçš„å„ç§åŒ»ç–—ç—…ä¾‹çš„è¯Šæ–­ï¼Œå¹¶åŒ…æ‹¬æ²»ç–—ç¨‹åºè¯†åˆ«ã€å®éªŒå®¤æµ‹è¯•è®¢è´­å’Œè¯ç‰©å¤„æ–¹ç­‰å…·æœ‰ä¸´åºŠæ„ä¹‰çš„ä»»åŠ¡ã€‚é€šè¿‡ç»“æ„åŒ–è¾“å‡ºæœ¬ä½“æ”¯æŒï¼ŒCliBenchå¯ä»¥è¿›è¡Œç²¾ç¡®çš„å¤šç²’åº¦è¯„ä¼°ï¼Œä»è€Œæ·±å…¥äº†è§£LLMsåœ¨ä¸åŒä¸´åºŠä»»åŠ¡ä¸Šçš„èƒ½åŠ›ã€‚
å®éªŒç»“æœ å¤ç°æµç¨‹ ä¸‹è½½æ•°æ® æ•°æ®ç”³è¯· ä¸‹è½½ NDC ä»£ç å…ƒæ•°æ®å¹¶å°†ndc_metadata.jsonæ”¾åœ¨code_sys/NDCç›®å½•ä¸‹ã€‚ å®‰è£…ç¯å¢ƒä¾èµ– è¿è¡Œå®éªŒ æ•°æ®å¤„ç† ç”Ÿæˆè¾“å‡º è®¡ç®—åˆ†æ•° References https://github.com/CliBench/CliBench</p></div><footer class=entry-footer><span title='2024-11-13 02:07:00 +0000 UTC'>November 13, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to è®ºæ–‡å¤ç°_CliBench" href=https://Pan-Binghong.github.io/daily-learning/ai/%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0_clibench/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>DB-GPTæºä»£ç éƒ¨ç½²</h2></header><div class=entry-content><p>æºä»£ç éƒ¨ç½²DB-GPTæ“ä½œæµç¨‹, å«æµ‹è¯•, éƒ¨ç½², æ³¨æ„äº‹é¡¹ç­‰ã€‚
1. ä¸‹è½½æºç  git clone https://github.com/eosphoros-ai/DB-GPT.git 2. å®‰è£…Minconda(è¿è¡Œç¯å¢ƒ) 1 2 3 4 # æ–°å»ºæ–‡ä»¶å¤¹mkdir -p ~/miniconda3 # åœ¨çº¿ä¸‹è½½mincondaå®‰è£…åŒ…wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh # è¿è¡Œå®‰è£…ç¨‹åºbash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3 # åˆ é™¤å®‰è£…åŒ…rm -rf ~/miniconda3/miniconda.sh [!NOTE]
1 2 3 åˆå§‹åŒ– ~/miniconda3/bin/conda init bash ~/miniconda3/bin/conda init zsh 3. æ–°å»ºä»£ç è¿è¡Œç¯å¢ƒ 1 # åŸºäºmincondaæ–°å»ºä¸€ä¸ªåç§°ä¸ºdbgpt_envçš„åŸºç¡€ç¯å¢ƒ, ä¸”pythonç‰ˆæœ¬ä¸º3.10conda create -n dbgpt_env python=3.10 Condaç¯å¢ƒå¸¸ç”¨å‘½ä»¤ : æ¸…åæºåœ°å€ ä¿®æ”¹pipä¸‹è½½æºçš„åœ°å€ 4. å®‰è£…é¡¹ç›®æ‰€éœ€ä¾èµ–åŒ…/åº“ DB-GPTä¸‹æœ‰setup.py, ä¸ºä½œè€…å†™çš„å®‰è£…ä¾èµ–è„šæœ¬ 1 pip install -e ".[default]" 5. å®‰è£…å¯ä»¥è¿œç¨‹è®¿é—®æ¨¡å‹çš„è½¯ä»¶ 1 apt-get install git-lfs 6. è°ƒç”¨åœ¨çº¿Qwenæ¥å£è¿›è¡Œè®¿é—® å®‰è£…qwenæ¥å£æ‰€éœ€ä¾èµ– 7 .ä¸‹è½½Embeddingæ¨¡å‹ åœ¨DB-GPTé¡¹ç›®ä¸‹, æ–°å»ºæ–‡ä»¶å¤¹models| ç”¨äºæ”¾ç½®Embeddingæ¨¡å‹ åœ¨çº¿ä¸‹è½½Embeddingæ¨¡å‹ | ç›®å‰å¥½ç”¨çš„æœ‰:m3e-large, text2vec-large-chineseç­‰ 8. é…ç½®æ¨¡å‹ åœ¨DB-GPTæ ¹ç›®å½•å¤„, å¤åˆ¶ç¯å¢ƒcp .env.template .env ç¼–è¾‘VIM .env æŒ‰ç…§æ–‡æ¡£è¿›è¡Œä¿®æ”¹ å…·ä½“çš„æ¨¡å‹åç§°å¯æŸ¥çœ‹cat /home/ubuntu/DB-GPT/dbgpt/configs/model_config.pyæ–‡ä»¶ 9. å®‰è£…SQLite sudo apt install sqlite 10. è¿è¡ŒæœåŠ¡ åœ¨DB-GPTæ ¹ç›®å½•è¿è¡Œ python dbgpt/app/dbgpt_server.py åœ¨æµè§ˆå™¨è¾“å…¥:http://localhost:5670/å¯æŸ¥çœ‹webç½‘ç«™</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to DB-GPTæºä»£ç éƒ¨ç½²" href=https://Pan-Binghong.github.io/daily-learning/ai/db-gpt%E6%BA%90%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>LlamaIndexæ¥å…¥åƒå¸†RAG</h2></header><div class=entry-content><p>è®°å½•ä»ä½¿ç”¨Llama-indexæ¡†æ¶, åŸºäºåœ¨çº¿æ–‡å¿ƒåƒå¸†å¤§æ¨¡å‹ERNIE-4.0, æ„å»ºå®ç°æœ¬åœ°çŸ¥è¯†æ£€ç´¢.
å¯¼å…¥å¤§æ¨¡å‹ 1 2 from llama_index.llms.qianfan import Qianfan access_key = ""secret_key = ""model_name = "ERNIE-4.0-8K-Latest"url = "https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions_pro"llm = Qianfan(access_key, secret_key, model_name, url, context_window=8192) model_nameå¯åœ¨åƒå¸†å¹³å°æŸ¥çœ‹, å¦‚ä¸‹å›¾:
å¯¼å…¥æœ¬åœ°Embedding ä¸‹è½½Embeddingæ¨¡å‹ 1 2 from modelscope import snapshot_download model_dir = snapshot_download('Xorbits/bge-m3', cache_dir='/data/LLMs') åŠ è½½æœ¬åœ°Embeddingæ¨¡å‹ 1 2 from llama_index.embeddings.huggingface import HuggingFaceEmbedding cache_folder = r"embed_model/m3e-large"embed_model = HuggingFaceEmbedding(cache_folder=cache_folder) æ„å»ºæœ¬åœ°çŸ¥è¯†åº“ 1 2 from llama_index.core import SimpleDirectoryReader, VectorStoreIndex directory = "/data/documents" #æ–‡æ¡£è·¯å¾„vector_index = VectorStoreIndex.from_documents(documents) æ„å»ºæŸ¥è¯¢å¼•æ“ 1 query_engine = vector_index.as_query_engine(similarity_top_k=3, llm=llm) similarity_top_kå¯æ ¹æ®ç»éªŒè‡ªè¡Œè°ƒæ•´, æ¨èè®¾ç½®3, 5.
æ„å»ºRAG Agent æ„å»ºå·¥å…· 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import os def get_tool(name, full_name, documents=None): if not os.path.exists(f"./data/{name}"): # build vector index vector_index = VectorStoreIndex.from_documents(documents) vector_index.storage_context.persist(persist_dir=f"./data/{name}") else: vector_index = load_index_from_storage( StorageContext.from_defaults(persist_dir=f"./data/{name}"), ) query_engine = vector_index.as_query_engine(similarity_top_k=3, llm=llm) query_engine_tool = QueryEngineTool( query_engine=query_engine, metadata=ToolMetadata( name=name, description=( "Provides information about Uber quarterly financials ending" f" {full_name}" ), ), ) return query_engine_tool è®¾ç½®Agent 1 2 3 from llama_index.core.agent import AgentRunner, ReActAgent agent = ReActAgent.from_tools( query_engine_tools, llm=agent_llm, verbose=True, max_iterations=20) è¿è¡Œ 1 response = agent.chat("æ‚¨çš„é—®é¢˜") æ•´ä½“ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 from llama_index.core import Settings import os from llama_index.core import SimpleDirectoryReader, VectorStoreIndex from llama_index.llms.qianfan import Qianfan from llama_index.core.tools import QueryEngineTool, ToolMetadata from llama_index.embeddings.huggingface import HuggingFaceEmbedding # åˆå§‹åŒ–Qianfanæ¨¡å‹class Rag: def __init__(self): self.access_key = "" self.secret_key = "" self.model_name = "ERNIE-4.0-8K-Latest" self.url = "https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions_pro" self.llm = Qianfan(self.access_key, self.secret_key, self.model_name, self.url, context_window=8192) self.cache_folder = r"embed_model/m3e-large" self.directory = r"/data/documents" # æ•°æ®ç›®å½•è·¯å¾„ def get_tool(self, name, full_name, documents=None): embed_model = HuggingFaceEmbedding(cache_folder=self.cache_folder) Settings.embed_model = embed_model vector_index = VectorStoreIndex.from_documents(documents) persist_path = f"{self.directory}/{name}" if not os.path.exists(persist_path): vector_index.storage_context.persist(persist_dir=persist_path) query_engine = vector_index.as_query_engine(similarity_top_k=3, llm=self.llm) query_engine_tool = QueryEngineTool(query_engine=query_engine, metadata=ToolMetadata(name=name, description=f"Provides information from document {full_name}")) return query_engine_tool def parse_args(self): query_engine_tools = [] for filename in os.listdir(self.directory): if filename.endswith(".txt"): filepath = os.path.join(self.directory, filename) documents = SimpleDirectoryReader(input_files=[filepath]).load_data() tool_name = filename[:-4] # å»é™¤'.txt'å¾—åˆ°å·¥å…·åç§° tool = self.get_tool(tool_name, tool_name, documents=documents) query_engine_tools.append(tool) return query_engine_tools def query_engine(self, query): from llama_index.core.agent import ReActAgent tools = self.parse_args() agent = ReActAgent.from_tools(tools, llm=self.llm, verbose=True, max_iterations=20) response = agent.chat(query) return response # åˆ›å»º Rag å®ä¾‹å¹¶æ‰§è¡ŒæŸ¥è¯¢if __name__ == "__main__": rag = Rag() print(rag.query_engine(query="é—®é¢˜")) å‚è€ƒé“¾æ¥
...</p></div><footer class=entry-footer><span title='2024-10-29 01:52:00 +0000 UTC'>October 29, 2024</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to LlamaIndexæ¥å…¥åƒå¸†RAG" href=https://Pan-Binghong.github.io/daily-learning/ai/llamaindex%E6%8E%A5%E5%85%A5%E5%8D%83%E5%B8%86rag/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://Pan-Binghong.github.io/daily-learning/ai/page/2/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://Pan-Binghong.github.io/daily-learning/ai/page/4/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://Pan-Binghong.github.io/daily-learning/>Pan Binghong's Tech Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>