<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ais | Pan Binghong's Tech Blog</title><meta name=keywords content><meta name=description content="Ais - Pan Binghong's Tech Blog"><meta name=author content="Pan Binghong"><link rel=canonical href=https://Pan-Binghong.github.io/daily-learning/ai/><link crossorigin=anonymous href=/daily-learning/assets/css/stylesheet.8c4274f6592e00e67f9d9e38f6a29695c6a6ce5eded446ed371ff6565dbb189f.css integrity="sha256-jEJ09lkuAOZ/nZ449qKWlcamzl7e1EbtNx/2Vl27GJ8=" rel="preload stylesheet" as=style><link rel=icon href=https://Pan-Binghong.github.io/daily-learning/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Pan-Binghong.github.io/daily-learning/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Pan-Binghong.github.io/daily-learning/favicon-32x32.png><link rel=apple-touch-icon href=https://Pan-Binghong.github.io/daily-learning/apple-touch-icon.png><link rel=mask-icon href=https://Pan-Binghong.github.io/daily-learning/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://Pan-Binghong.github.io/daily-learning/ai/index.xml title=rss><link rel=alternate hreflang=en href=https://Pan-Binghong.github.io/daily-learning/ai/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=stylesheet href=https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css><style>.reading-progress-bar{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--primary),#00d4ff);z-index:9999;transition:width .1s ease;box-shadow:0 0 10px rgba(0,212,255,.5)}</style><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})})</script><meta property="og:url" content="https://Pan-Binghong.github.io/daily-learning/ai/"><meta property="og:site_name" content="Pan Binghong's Tech Blog"><meta property="og:title" content="Ais"><meta property="og:description" content="è®°å½•æŠ€æœ¯æˆé•¿çš„æ¯ä¸€æ­¥ - AIã€åç«¯ã€DevOps å­¦ä¹ ç¬”è®°"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ais"><meta name=twitter:description content="è®°å½•æŠ€æœ¯æˆé•¿çš„æ¯ä¸€æ­¥ - AIã€åç«¯ã€DevOps å­¦ä¹ ç¬”è®°"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ais","item":"https://Pan-Binghong.github.io/daily-learning/ai/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://Pan-Binghong.github.io/daily-learning/ accesskey=h title="Pan Binghong's Tech Blog (Alt + H)">Pan Binghong's Tech Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Pan-Binghong.github.io/daily-learning/ title="ğŸ  é¦–é¡µ"><span>ğŸ  é¦–é¡µ</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/ai/ title="ğŸ¤– AI"><span class=active>ğŸ¤– AI</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/knowledge/ title="ğŸ“š çŸ¥è¯†åº“"><span>ğŸ“š çŸ¥è¯†åº“</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/backend/ title="âš™ï¸ åç«¯"><span>âš™ï¸ åç«¯</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/devops/ title="ğŸ”§ DevOps"><span>ğŸ”§ DevOps</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/other/ title="ğŸ“ å…¶ä»–"><span>ğŸ“ å…¶ä»–</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/search/ title="ğŸ” æœç´¢"><span>ğŸ” æœç´¢</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/archives/ title="ğŸ“‚ å½’æ¡£"><span>ğŸ“‚ å½’æ¡£</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/about/ title="ğŸ‘¤ å…³äº"><span>ğŸ‘¤ å…³äº</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://Pan-Binghong.github.io/daily-learning/>Home</a></div><h1>Ais
<a href=/daily-learning/ai/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Difyæ’ä»¶ä¹‹MineU2ä½¿ç”¨è¸©å‘</h2></header><div class=entry-content><p>ğŸ’¡ MineU 2åœ¨Difyæ’ä»¶ä¸­ä½¿ç”¨è¿‡ç¨‹ä¸­çš„è¸©å‘è®°å½•ã€‚
1. å®‰è£… https://marketplace.dify.ai/plugins/langgenius/mineru?source=http%253A%252F%252F172.16.0.138%253A9001&amp;language=zh-Hans&amp;theme=light
2. é…ç½® è·å–API KEY | åœ¨å®˜ç½‘ç”³è¯·å³å¯ å¡«å…¥é…ç½® Detail è¸©å‘ è§£å†³æ–¹æ³• References</p></div><footer class=entry-footer><span title='2025-08-19 05:24:00 +0000 UTC'>August 19, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>17 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Difyæ’ä»¶ä¹‹MineU2ä½¿ç”¨è¸©å‘" href=https://Pan-Binghong.github.io/daily-learning/ai/dify%E6%8F%92%E4%BB%B6%E4%B9%8Bmineu2%E4%BD%BF%E7%94%A8%E8%B8%A9%E5%9D%91/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Difyä¿®æ”¹SandBoxæƒé™</h2></header><div class=entry-content><p>ğŸ’¡ ä½¿ç”¨difyçš„ä»£ç æ‰§è¡Œæ¨¡å—æ—¶, å¯¼å…¥äº†ç¬¬ä¸‰æ–¹åº“, ä½†æ˜¯åœ¨è¿è¡Œæ—¶å‡ºç°: operation not permitted
ä¿®æ”¹æ–‡ä»¶ æ”¹æˆè¿™æ ·</p></div><footer class=entry-footer><span title='2025-08-15 08:59:00 +0000 UTC'>August 15, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>9 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Difyä¿®æ”¹SandBoxæƒé™" href=https://Pan-Binghong.github.io/daily-learning/ai/dify%E4%BF%AE%E6%94%B9sandbox%E6%9D%83%E9%99%90/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Difyä¿®æ”¹é»˜è®¤80ç«¯å£</h2></header><div class=entry-content><p>ğŸ’¡ è®°å½•Difyä¿®æ”¹ç«¯å£çš„æ“ä½œ
æ“ä½œæµç¨‹ è¿›å…¥dify/dockerç›®å½• è¿›å…¥.envæ–‡ä»¶ ä¿®æ”¹ç«¯å£80</p></div><footer class=entry-footer><span title='2025-08-15 01:24:00 +0000 UTC'>August 15, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>6 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Difyä¿®æ”¹é»˜è®¤80ç«¯å£" href=https://Pan-Binghong.github.io/daily-learning/ai/dify%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A480%E7%AB%AF%E5%8F%A3/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Difyä¸­å®‰è£…é¢å¤–çš„PipåŒ…</h2></header><div class=entry-content><p>ğŸ’¡ æœ€è¿‘éœ€è¦åœ¨difyçš„ä»£ç æ‰§è¡Œæ¨¡å—ä¸­è¿è¡Œpython-docxåº“çš„åŠŸèƒ½ã€‚è®°å½•ä¸€ä¸‹æ€ä¹ˆåœ¨difyä¸­å®‰è£…é¢å¤–çš„åŒ…ã€‚
1. æ‰¾åˆ°requirements åœ¨ /data/dify/docker/volumes/sandbox/dependencies/python-requirements.txt æ–‡ä»¶ä¸­æ·»åŠ éœ€è¦å®‰è£…çš„åŒ…çš„åç§°ä»¥åŠç‰ˆæœ¬å³å¯ã€‚
2. é‡å¯docker 1 docker compose restart</p></div><footer class=entry-footer><span title='2025-08-12 06:08:00 +0000 UTC'>August 12, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>13 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Difyä¸­å®‰è£…é¢å¤–çš„PipåŒ…" href=https://Pan-Binghong.github.io/daily-learning/ai/dify%E4%B8%AD%E5%AE%89%E8%A3%85%E9%A2%9D%E5%A4%96%E7%9A%84pip%E5%8C%85/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åŸºäºvllm benchmarkå¢åŠ å›¾ç‰‡å‹æµ‹åŠŸèƒ½</h2></header><div class=entry-content><p>ğŸ’¡ æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œæƒ³è¦åœ¨æ€§èƒ½å‹æµ‹çš„åŸæ¨¡å¼ä¸­ï¼Œå¢åŠ å¤šæ¨¡æ€æ¨¡å‹çš„å‹æµ‹èƒ½åŠ›ã€‚ä»¥ä¸‹è®°å½•ä¿®æ”¹ä»£ç çš„å…¨è¿‡ç¨‹ä»¥åŠè¸©å‘è®°å½•ã€‚
1. ä»£ç å¯¹æ¯” åŸå§‹ä»£ç ä¸ºvllmå¼€æºä»“åº“å†…/benckmarks/backend_request_func.py å’Œ /benchmarks/benchmark_serving.py ï¼Œä¸»è¦ä¿®æ”¹éƒ¨åˆ†ä¸ºï¼š
benckmark_serving.py
parserä¸­æ–°å¢å‚æ•° image-url 1 2 3 4 5 6 parser.add_argument( "--image-url", type=str, default=None, help="URL of a fixed image to be included in every request when using --dataset-name random." ) mainå‡½æ•°å¤„æ–°å¢ 1 2 3 4 endpoint = args.endpoint if endpoint == parser.get_default("endpoint") and backend in ("openai-chat-vl" ): endpoint = "/v1/chat/completions" print(f"Using default endpoint for {backend}: {endpoint}") mainå‡½æ•°å¤„æ–°å¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 elif args.dataset_name == "random": input_requests = sample_random_requests( prefix_len=args.random_prefix_len, input_len=args.random_input_len, output_len=args.random_output_len, num_prompts=args.num_prompts, range_ratio=args.random_range_ratio, tokenizer=tokenizer, image_url=args.image_url, ) # Add check: if image_url is used, backend must support multi-modal if args.image_url and args.backend not in ("openai-chat", ): raise ValueError( f"Using --image-url requires a multi-modal backend ('openai-chat' or 'openai-image'), but got {args.backend}." ) else: raise ValueError(f"Unknown dataset: {args.dataset_name}") åœ¨benchmarkå‡½æ•°å¤„ä¿®æ”¹ 1 2 3 4 if backend not in ("openai-chat-vl" ) and test_mm_content is not None: raise ValueError( f"Multi-modal content is only supported on 'openai-chat' or 'openai-image' backend, but got {backend}." ) åœ¨sample_random_requestsæ–°å¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 def sample_random_requests( prefix_len: int, input_len: int, output_len: int, num_prompts: int, range_ratio: float, tokenizer: PreTrainedTokenizerBase, image_url: Optional[str] = None, ) -> List[Tuple[str, int, int, Optional[Dict[str, Collection[str]]]]]: prefix_token_ids = np.random.randint(0, tokenizer.vocab_size, size=prefix_len).tolist() # range_ratio ç”¨äºæ§åˆ¶ç”Ÿæˆçš„éšæœºè¾“å…¥é•¿åº¦çš„èŒƒå›´ # ä¾‹å¦‚ input_len=100, range_ratio=0.8 æ—¶: # ç”Ÿæˆçš„éšæœºé•¿åº¦èŒƒå›´ä¸º [80, 100] # è¿™æ ·å¯ä»¥äº§ç”Ÿä¸€å®šå˜åŒ–èŒƒå›´çš„è¾“å…¥é•¿åº¦,è€Œä¸æ˜¯å›ºå®šé•¿åº¦ input_lens = np.random.randint( int(input_len * range_ratio), # ä¸‹é™æ˜¯ input_len * range_ratio input_len + 1, # ä¸Šé™æ˜¯ input_len size=num_prompts, # ç”Ÿæˆ num_prompts ä¸ªéšæœºé•¿åº¦ ) output_lens = np.random.randint( int(output_len * range_ratio), output_len + 1, size=num_prompts, ) offsets = np.random.randint(0, tokenizer.vocab_size, size=num_prompts) input_requests = [] # Prepare mm_content if image_url is provided mm_content = None if image_url: mm_content = { "type": "image_url", "image_url": { "url": image_url }, } for i in range(num_prompts): # ç”Ÿæˆéšæœºtokenåºåˆ—: # 1. å…ˆæ·»åŠ å›ºå®šçš„prefix_token_ids # 2. å†æ·»åŠ éšæœºç”Ÿæˆçš„token_ids: # - ä»offset[i]å¼€å§‹ # - æ¯ä¸ªä½ç½®jå¢åŠ i+j # - å¯¹vocab_sizeå–æ¨¡ç¡®ä¿åœ¨è¯è¡¨èŒƒå›´å†… token_ids = prefix_token_ids + [(offsets[i] + i + j) % tokenizer.vocab_size for j in range(input_lens[i])] # 3. è§£ç æˆæ–‡æœ¬ prompt = tokenizer.decode(token_ids, skip_special_tokens=True) # 4. é‡æ–°ç¼–ç å¹¶æˆªæ–­åˆ°æŒ‡å®šé•¿åº¦ prompt = tokenizer.decode( tokenizer.encode(prompt, truncation=True, max_length=input_lens[i]), skip_special_tokens=True ) prompt_len = len(tokenizer.encode(prompt)) input_requests.append((prompt, prompt_len, int(output_lens[i]), mm_content)) # æ‰“å°æ¯è¡Œçš„é•¿åº¦ print(f"Request {i}: Input length = {prompt_len}, Output length = {output_lens[i]}") return input_requests backend_request_func.py ä¸»è¦ä¿®æ”¹éƒ¨åˆ†ä¸ºï¼š
...</p></div><footer class=entry-footer><span title='2025-04-27 06:59:00 +0000 UTC'>April 27, 2025</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>432 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to åŸºäºvllm benchmarkå¢åŠ å›¾ç‰‡å‹æµ‹åŠŸèƒ½" href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Evllm-benchmark%E5%A2%9E%E5%8A%A0%E5%9B%BE%E7%89%87%E5%8E%8B%E6%B5%8B%E5%8A%9F%E8%83%BD/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Stepvideo-t2v Deployment Manual</h2></header><div class=entry-content><p>ğŸ’¡ è®°å½•éƒ¨ç½²é˜¶è·ƒæ˜Ÿè¾°å‘å¸ƒçš„stepvideo-ti2v (å›¾ç‰‡ç”Ÿæˆè§†é¢‘)æ¨¡å‹ï¼Œå…¨æµç¨‹ã€‚å«è¸©å‘è®°å½•ï¼Œä»¥åŠwebuiå±•ç¤ºä»£ç ã€‚
1. ç¯å¢ƒå®‰è£… 1.1 æ‹‰å–Dockeré•œåƒ 1 2 3 docker pull nvcr.io/nvidia/pytorch:23.10-py3 docker run -dit --gpus all --privileged --ipc=host --net host --name=stepfun--shm-size=100g --ulimit memlock=-1 -v /data/:/data/ é•œåƒID /bin/bash docker exec -it stepfun /bin/bash æ¨èæ‹‰å–è¯¥é•œåƒï¼Œåœ¨æ­¤é•œåƒåŸºç¡€ä¸Šè¿›è¡Œæ¨¡å‹çš„å®‰è£…è¿è¡Œã€‚å¿½ç•¥dockerçš„å®‰è£…ã€‚
1.2å®‰è£…StepVideoç¯å¢ƒ æ¼”ç¤ºæ‰€ç”¨çš„webuiåŸºäºstreamlitåº“è¿›è¡Œå¼€å‘ï¼Œå…¶ä¸­çš„numpyç‰ˆæœ¬ä¸stepvideoæœ‰å†²çªï¼Œé¦–å…ˆå®‰è£…streamlitã€‚
1 pip install streamlit 1 2 3 git clone https://github.com/stepfun-ai/Step-Video-TI2V.git cd StepFun-StepVideo pip install -e . opencvæŠ¥é”™ï¼šå¦‚é‡åˆ° xxx æŠ¥é”™ï¼Œåˆ©ç”¨opencv-fixerå·¥å…·è¿›è¡Œæ¸…ç†æ›´æ–°
1 2 pip install opencv-fixer==0.2.5 python -c "from opencv_fixer import AutoFix; AutoFix()" requirements.txt 2. æ¨¡å‹ä¸‹è½½ 1 2 3 4 mkdir stepfun cd stepfun pip install modelscope modelscope download --model stepfun-ai/stepvideo-ti2v --local_dir . ...</p></div><footer class=entry-footer><span title='2025-04-22 00:43:00 +0000 UTC'>April 22, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>201 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Stepvideo-t2v Deployment Manual" href=https://Pan-Binghong.github.io/daily-learning/ai/stepvideo-t2v-deployment-manual/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Learning vLL (0.7.2) with Cursor</h2></header><div class=entry-content><p>ğŸ’¡ ä¹‹å‰ä¸€ç›´ç”¨cursorè¾…åŠ©å†™ä»£ç ï¼Œçªç„¶è¯•äº†ä¸€ä¸‹å»åˆ©ç”¨cursoræ¥å­¦ä»£ç ï¼Œå‘ç°æ•ˆæœå˜å˜å¥½ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹æ¯”è¾ƒç«çš„vllmä¸­æå‡æ¨ç†é€Ÿåº¦çš„ä¸€äº›å…³é”®ä»£ç ã€‚
1. What is vLLMï¼Ÿ vLLMæ˜¯å¤§æ¨¡å‹æ¨ç†åŠ é€Ÿæ¡†æ¶ã€‚ä¸»è¦åœ¨KVcacheç®¡ç†ä¸­é‡‡ç”¨äº†PageAttentionæŠ€æœ¯ï¼Œæ”¯æŒå¸‚é¢ä¸Šä¸»æµçš„å¼€æºå¤§æ¨¡å‹ï¼Œæ”¯æŒé‡åŒ–ç±»å‹ä¸ºï¼šGPTQ,Â AWQ, INT4, INT8, and FP8
2. KVcacheç›¸å…³çš„è®¡ç®—ä»£ç  ä½¿ç”¨claude-3.7-sonnet thinkingï¼Œå¯¹vllmæ•´ä¸ªé¡¹ç›®è¿›è¡Œæé—®ã€‚
ä¸ºäº†æ›´å¥½ä¸¾ä¾‹ï¼Œä¸‹è½½äº†deepseek-v3-0324ç‰ˆæœ¬çš„config.jsonï¼Œä»£å…¥é¡¹ç›®è¿›è¡Œæé—®ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 { "architectures": [ "DeepseekV3ForCausalLM" ], "attention_bias": false, "attention_dropout": 0.0, "auto_map": { "AutoConfig": "configuration_deepseek.DeepseekV3Config", "AutoModel": "modeling_deepseek.DeepseekV3Model", "AutoModelForCausalLM": "modeling_deepseek.DeepseekV3ForCausalLM" }, "aux_loss_alpha": 0.001, "bos_token_id": 0, "eos_token_id": 1, "ep_size": 1, "first_k_dense_replace": 3, "hidden_act": "silu", "hidden_size": 7168, "initializer_range": 0.02, "intermediate_size": 18432, "kv_lora_rank": 512, "max_position_embeddings": 163840, "model_type": "deepseek_v3", "moe_intermediate_size": 2048, "moe_layer_freq": 1, "n_group": 8, "n_routed_experts": 256, "n_shared_experts": 1, "norm_topk_prob": true, "num_attention_heads": 128, "num_experts_per_tok": 8, "num_hidden_layers": 61, "num_key_value_heads": 128, "num_nextn_predict_layers": 1, "pretraining_tp": 1,æ¨¡å‹ä¸­Transformerå±‚çš„æ•°é‡ã€‚æ›´å¤šçš„å±‚æ•°ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿå­¦ä¹ æ›´æ·±å±‚æ¬¡çš„ç‰¹å¾å’Œå…³ç³»ï¼Œä½†ä¹Ÿå¢åŠ äº†æ¨¡å‹çš„æ·±åº¦å’Œè®¡ç®—æˆæœ¬ã€‚ "q_lora_rank": 1536, "qk_nope_head_dim": 128, "qk_rope_head_dim": 64, "quantization_config": { "activation_scheme": "dynamic", "fmt": "e4m3", "quant_method": "fp8", "weight_block_size": [ 128, 128 ] }, "rms_norm_eps": 1e-06, "rope_scaling": { "beta_fast": 32, "beta_slow": 1, "factor": 40, "mscale": 1.0, "mscale_all_dim": 1.0, "original_max_position_embeddings": 4096, "type": "yarn" }, "rope_theta": 10000, "routed_scaling_factor": 2.5, "scoring_func": "sigmoid", "seq_aux": true, "tie_word_embeddings": false, "topk_group": 4, "topk_method": "noaux_tc", "torch_dtype": "bfloat16", "transformers_version": "4.46.3", "use_cache": true, "v_head_dim": 128, "vocab_size": 129280 } è¯¥æ–‡ä»¶ä¸­çš„å…³é”®ä¿¡æ¯ä¸ºï¼š
...</p></div><footer class=entry-footer><span title='2025-04-14 00:38:00 +0000 UTC'>April 14, 2025</span>&nbsp;Â·&nbsp;<span>11 min</span>&nbsp;Â·&nbsp;<span>2323 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to Learning vLL (0.7.2) with Cursor" href=https://Pan-Binghong.github.io/daily-learning/ai/learning-vll-0.7.2-with-cursor/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>EvalScopeå¤§æ¨¡å‹éªŒè¯„æ¡†æ¶</h2></header><div class=entry-content><p>ğŸ’¡ ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨vllmæˆ–è€…sglangå®˜æ–¹æä¾›çš„benchmarkè„šæœ¬ï¼Œç°åœ¨å°è¯•æ›´æ¢ä¸ºEvalScopeæ¡†æ¶ã€‚è®°å½•ä½¿ç”¨è¯¥æ¡†æ¶å¯¹é€Ÿåº¦è¿›è¡ŒåŸºå‡†æµ‹è¯•å…¨æµç¨‹ã€‚
1. å®‰è£… å®˜æ–¹æä¾›3ç§å®‰è£…æ–¹å¼ï¼Œ1.pip/2.source code/3.dockerã€‚
Pipå®‰è£… æ›´æ–°pip pipå®‰è£… æºç å®‰è£… | æ¨è ä¸‹è½½ä»£ç  ç¼–è¯‘ Dockerå®‰è£… https://modelscope.cn/docs/intro/environment-setup#%E6%9C%80%E6%96%B0%E9%95%9C%E5%83%8F
æ‹‰å–é•œåƒ åˆ›å»ºå®¹å™¨ 2. è¿è¡Œæ¨¡å‹æ¨ç†æ€§èƒ½å‹æµ‹ å‚æ•°è¯¦ç»†è¯´æ˜ï¼šhttps://evalscope.readthedocs.io/zh-cn/latest/user_guides/stress_test/parameters.html
æ¨ç†æ€§èƒ½æµ‹è¯•æœ‰2ç§ç­–ç•¥ï¼Œç¬¬ä¸€ç§ä¸ºæ ‡å‡†çš„å¹¶å‘å‹åŠ›æµ‹è¯•ï¼Œç¬¬äºŒç§ä¸ºå•å¹¶å‘ä¸‹çš„é€Ÿåº¦æµ‹è¯•ã€‚åœ¨è¯¥æ¡†æ¶ä¸‹ï¼Œç‰¹åˆ«è¯´æ˜äº†å¦‚æœéœ€è¦ä½¿ç”¨é€Ÿåº¦æµ‹è¯•ï¼Œåˆ™urléœ€è¦è®¾ç½®ä¸º/v1/completionsã€‚https://evalscope.readthedocs.io/zh-cn/latest/user_guides/stress_test/speed_benchmark.html
å‘½ä»¤è¡Œæ–¹å¼å¯åŠ¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # eval.sh CUDA_VISIBLE_DEVICES=0,1,2,3 \ evalscope perf \ --parallel 20 \ --model /data/DeepSeek-R1-Distill-Llama-70B \ --url http://127.0.0.1:8000/v1/chat/completions \ --port 8000 \ --api local_vllm \ --dataset random \ --max-tokens 640 \ --prefix-length 64 \ --min-prompt-length 32 \ --max-prompt-length 64 \ --number 100 \ --tokenizer-path /data/DeepSeek-R1-Distill-Llama-70B \ --stream \ # ä¸ºäº†æˆªå›¾ï¼Œæš‚å…ˆå–æ¶ˆè®¾ç½®è¯¥å‚æ•° #--debug æµ‹è¯•é•¿æˆªå›¾ 3. å¯è§†åŒ– å®‰è£…wandbä¾èµ–åŒ… æ³¨å†Œ + è·å–å¯†é’¥ è¿è¡Œå‘½ä»¤åè¿½åŠ  ç»“æœå±•ç¤º æˆªå›¾ 4. æµ‹è¯„æ¨¡å‹èƒ½åŠ› é¦–å…ˆå°†æ¨¡å‹å¯åŠ¨ï¼Œä½¿ç”¨vllmæ¡†æ¶è¿›è¡Œå¯åŠ¨ï¼švllm serve /data/DeepSeek-R1-Distill-Qwen-7B â€“tensor-parallel-size 2 è¿è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹è¾“å‡ºä¸€ä¸ªoutputæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­ä¿å­˜ç€æ—¥å¿—æ–‡ä»¶ã€‚å¯ä»¥å°†æ—¥å¿—è·¯å¾„ä¿å­˜ã€‚ ç»ˆç«¯è¾“å…¥ï¼š è®¿é—®æœ¬åœ°çš„7860ç«¯å£ï¼š References
...</p></div><footer class=entry-footer><span title='2025-03-28 01:13:00 +0000 UTC'>March 28, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>111 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to EvalScopeå¤§æ¨¡å‹éªŒè¯„æ¡†æ¶" href=https://Pan-Binghong.github.io/daily-learning/ai/evalscope%E5%A4%A7%E6%A8%A1%E5%9E%8B%E9%AA%8C%E8%AF%84%E6%A1%86%E6%9E%B6/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åŸºäºEasy DataSetåˆ›å»ºè‡ªå®šä¹‰æ•°æ®é›†</h2></header><div class=entry-content><p>ğŸ’¡ å‰å‡ å¤©çœ‹è§†é¢‘å‘ç°ä¸€ä¸ªå¼€æºçš„æ„å»ºæ•°æ®é›†é¡¹ç›®ï¼Œæ‰“ç®—å¤ç°ç©ä¸€ä¸‹ã€‚è¿™é‡Œè®°å½•å…¨æµç¨‹ã€‚
ç¯å¢ƒå®‰è£… æœ¬äººä½¿ç”¨Ubuntuç³»ç»Ÿã€‚é¦–å…ˆå®‰è£…node.jsä»¥åŠnpmã€‚
ä½¿ç”¨nvmï¼Œå®‰è£…nodejsä»¥åŠnpm å®‰è£…pnpm æ£€æŸ¥å®‰è£…æ˜¯å¦æ­£ç¡® Easy DataSetå¹³å°å®‰è£… ä½¿ç”¨githubä¸‹è½½æºä»£ç  å®‰è£…ä»£ç æ‰€éœ€ä¾èµ–åŒ… ä½¿ç”¨pnpmçš„ç‰¹ç‚¹:
Easy DataSetå¯åŠ¨ åŸºäºä»£ç æ„å»ºé¡¹ç›® å¯åŠ¨åº”ç”¨ç¨‹åº æ€ä¹ˆä½¿ç”¨Easy DataSet æ–°å»ºé¡¹ç›® é…ç½®å¤§æ¨¡å‹ ä¸Šä¼ æ•°æ® åŸºäºåˆ†å‰²çš„æ–‡æœ¬ï¼Œæ„å»ºé—®é¢˜ æ„å»ºæ•°æ®é›† å¯¼å‡ºæ•°æ®é›† References</p></div><footer class=entry-footer><span title='2025-03-27 03:06:00 +0000 UTC'>March 27, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>25 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to åŸºäºEasy DataSetåˆ›å»ºè‡ªå®šä¹‰æ•°æ®é›†" href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Eeasy-dataset%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E9%9B%86/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>åŸºäºMCPæ„å»ºè®ºæ–‡æœç´¢æœåŠ¡</h2></header><div class=entry-content><p>ğŸ’¡ ç®€å•çš„å¤ç°ä¸€ä¸‹ï¼Œmcpå®˜æ–¹python-sdkä»“åº“çš„exampleã€‚
MCPä»‹ç» å…¨ç§°ä¸ºï¼šModel Context Protocol| æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ã€‚æ˜¯ä¸€ä¸ªåœ¨ç»Ÿä¸€å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸å¤–éƒ¨æ•°æ®æºå’Œå·¥å…·ä¹‹é—´çš„é€šä¿¡åè®®ã€‚MCP çš„ä¸»è¦ç›®çš„åœ¨äºè§£å†³å½“å‰ AI æ¨¡å‹å› æ•°æ®å­¤å²›é™åˆ¶è€Œæ— æ³•å……åˆ†å‘æŒ¥æ½œåŠ›çš„éš¾é¢˜ï¼ŒMCP ä½¿å¾— AI åº”ç”¨èƒ½å¤Ÿå®‰å…¨åœ°è®¿é—®å’Œæ“ä½œæœ¬åœ°åŠè¿œç¨‹æ•°æ®ï¼Œä¸º AI åº”ç”¨æä¾›äº†è¿æ¥ä¸‡ç‰©çš„æ¥å£ã€‚
æ”¯æŒMCPçš„å®¢æˆ·ç«¯ References</p></div><footer class=entry-footer><span title='2025-03-25 06:23:00 +0000 UTC'>March 25, 2025</span>&nbsp;Â·&nbsp;<span>1 min</span>&nbsp;Â·&nbsp;<span>17 words</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></footer><a class=entry-link aria-label="post link to åŸºäºMCPæ„å»ºè®ºæ–‡æœç´¢æœåŠ¡" href=https://Pan-Binghong.github.io/daily-learning/ai/%E5%9F%BA%E4%BA%8Emcp%E6%9E%84%E5%BB%BA%E8%AE%BA%E6%96%87%E6%90%9C%E7%B4%A2%E6%9C%8D%E5%8A%A1/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://Pan-Binghong.github.io/daily-learning/ai/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://Pan-Binghong.github.io/daily-learning/ai/page/3/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2026 <a href=https://Pan-Binghong.github.io/daily-learning/>Pan Binghong's Tech Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg></a><div class=reading-progress-bar id=reading-progress></div><script>window.addEventListener("scroll",function(){const e=document.getElementById("reading-progress");if(!e)return;const t=window.innerHeight,n=document.documentElement.scrollHeight-t,s=window.scrollY,o=s/n*100;e.style.width=o+"%"}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".copy-text");e.forEach(e=>{e.addEventListener("click",function(){this.textContent="âœ“ å·²å¤åˆ¶",setTimeout(()=>{this.textContent="å¤åˆ¶"},2e3)})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll('a[href^="http"]');e.forEach(e=>{e.hostname!==window.location.hostname&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".post-content img");e.forEach(e=>{e.style.cursor="pointer",e.addEventListener("click",function(){window.open(this.src,"_blank")})})})</script><style>#top-link{transition:all .3s ease}#top-link:hover{transform:translateY(-5px);box-shadow:0 5px 15px rgba(0,0,0,.2)}</style><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>