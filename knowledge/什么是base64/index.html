<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ä»€ä¹ˆæ˜¯Base64 | æˆ‘çš„åšå®¢</title><meta name=keywords content="Knowledge"><meta name=description content="
ğŸ’¡ è®°å½•ä¸€ä¸‹Base64åŸç†ï¼Œä¼˜ç‚¹ä¹‹ç±»çš„ã€‚


æ¦‚å¿µè§£é‡Š
Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚
å¸¸ç”¨äºåœ¨ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„åœºåˆï¼ˆå¦‚ç”µå­é‚®ä»¶ã€URLç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚

åº”ç”¨åœºæ™¯

ç”µå­é‚®ä»¶ä¸­åµŒå…¥å›¾ç‰‡æˆ–è€…å…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚
Webå¼€å‘å†…ï¼Œå°†å°å›¾ç‰‡ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚
åœ¨ç¼–ç¨‹è¯­è¨€å†…ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å’Œè§£ç ã€‚

å…³äºBase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜

Base64ç¼–ç ä¼˜ç¼ºç‚¹
Base64ç¼–ç åçš„å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆä¼šå˜é•¿ï¼Ÿ
Base64ç¼–ç åçš„å­—ç¬¦ä¸²æœ«å°¾ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œ=â€å·ï¼Ÿ


Base64 Alphabet
Pythonä»£ç å®ç°Base64ç¼–ç 


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21


def base(string:str)->str:
    oldstr = ''
    newstr = []
    base = ''
    base64_list = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P','Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',
'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v','w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/']
    #æŠŠåŸå§‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç”¨binè½¬æ¢åæ˜¯0bå¼€å¤´çš„ï¼Œæ‰€ä»¥æŠŠbæ›¿æ¢äº†ï¼Œé¦–ä½è¡¥0è¡¥é½8ä½
    for i in string:
        oldstr += '{:08}'.format(int(str(bin(ord(i))).replace('0b', '')))
    #æŠŠè½¬æ¢å¥½çš„äºŒè¿›åˆ¶æŒ‰ç…§6ä½ä¸€ç»„åˆ†å¥½ï¼Œæœ€åä¸€ç»„ä¸è¶³6ä½çš„åé¢è¡¥0
    for j in range(0, len(oldstr), 6):
        newstr.append('{:<06}'.format(oldstr[j:j + 6]))
    #åœ¨base_listä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæ‹¼æ¥
    for l in range(len(newstr)):
        base += base64_list[int(newstr[l], 2)]
    #åˆ¤æ–­baseå­—ç¬¦ç»“å°¾è¡¥å‡ ä¸ªâ€˜=â€™
    if len(string) % 3 == 1:
        base += '=='
    elif len(string) % 3 == 2:
        base += '='
    return  base


Base64åŒ…å®ç°


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58


import base64
from pathlib import Path

def base64_converter(text, mode='encode', output_path=None):
    &#34;&#34;&#34;
    å¤„ç†base64ç¼–è§£ç çš„å‡½æ•°
    
    å‚æ•°:
        text (str/Path/bytes): è¦å¤„ç†çš„æ–‡æœ¬ã€å›¾ç‰‡æ–‡ä»¶è·¯å¾„æˆ–base64ç¼–ç çš„bytes
        mode (str): 'encode' ç”¨äºç¼–ç ï¼Œ'decode' ç”¨äºè§£ç 
        output_path (str/Path): è§£ç å›¾ç‰‡æ—¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºNone
    &#34;&#34;&#34;
    # å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸²
    if isinstance(text, str) and not Path(text).is_file():
        if mode == 'encode':
            text_bytes = text.encode('utf-8')
            encoded = base64.b64encode(text_bytes)
            return encoded.decode('utf-8')
        else:
            decoded = base64.b64decode(text)
            return decoded.decode('utf-8')
    
    # å¤„ç†å›¾ç‰‡æ–‡ä»¶æˆ–bytesæ•°æ®
    if mode == 'encode':
        if isinstance(text, bytes):
            return base64.b64encode(text)
        with open(text, 'rb') as image_file:
            return base64.b64encode(image_file.read())
    else:
        # ä½¿ç”¨æŒ‡å®šçš„è¾“å‡ºè·¯å¾„æˆ–å½“å‰ç›®å½•
        save_path = Path(output_path) if output_path else Path.cwd() / &#34;decoded_image.png&#34;
        save_path.parent.mkdir(parents=True, exist_ok=True)
        
        # è§£ç å¹¶ä¿å­˜å›¾ç‰‡
        if isinstance(text, bytes):
            image_data = base64.b64decode(text)
        else:
            image_data = base64.b64decode(text.encode('ascii') if isinstance(text, str) else text)
        
        with open(save_path, 'wb') as image_file:
            image_file.write(image_data)
        return f&#34;å›¾ç‰‡å·²ä¿å­˜åˆ°: {save_path.absolute()}&#34;

if __name__ == &#34;__main__&#34;:
    # æ–‡æœ¬ç¼–è§£ç æµ‹è¯•
    result = base64_converter(&#34;Hello, World!&#34;, mode='encode')
    print(&#34;ç¼–ç ç»“æœ:&#34;, result)
    decoded = base64_converter(result, mode='decode')
    print(&#34;è§£ç ç»“æœ:&#34;, decoded)
    
    # å›¾ç‰‡ç¼–è§£ç æµ‹è¯•
    test_image_path = &#34;test.png&#34;
    if Path(test_image_path).exists():
        # ç¼–ç å›¾ç‰‡
        image_base64 = base64_converter(test_image_path, mode='encode')
        # è§£ç åˆ°è¾“å‡ºæ–‡ä»¶
        result = base64_converter(image_base64, mode='decode', output_path=&#34;decoded_test.png&#34;)
        print(result)



"><meta name=author content="Pan Binghong"><link rel=canonical href=https://Pan-Binghong.github.io/daily-learning/knowledge/%E4%BB%80%E4%B9%88%E6%98%AFbase64/><link crossorigin=anonymous href=/daily-learning/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://Pan-Binghong.github.io/daily-learning/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://Pan-Binghong.github.io/daily-learning/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://Pan-Binghong.github.io/daily-learning/favicon-32x32.png><link rel=apple-touch-icon href=https://Pan-Binghong.github.io/daily-learning/apple-touch-icon.png><link rel=mask-icon href=https://Pan-Binghong.github.io/daily-learning/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://Pan-Binghong.github.io/daily-learning/knowledge/%E4%BB%80%E4%B9%88%E6%98%AFbase64/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://Pan-Binghong.github.io/daily-learning/knowledge/%E4%BB%80%E4%B9%88%E6%98%AFbase64/"><meta property="og:site_name" content="æˆ‘çš„åšå®¢"><meta property="og:title" content="ä»€ä¹ˆæ˜¯Base64"><meta property="og:description" content=" ğŸ’¡ è®°å½•ä¸€ä¸‹Base64åŸç†ï¼Œä¼˜ç‚¹ä¹‹ç±»çš„ã€‚
æ¦‚å¿µè§£é‡Š Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚
å¸¸ç”¨äºåœ¨ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„åœºåˆï¼ˆå¦‚ç”µå­é‚®ä»¶ã€URLç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚
åº”ç”¨åœºæ™¯ ç”µå­é‚®ä»¶ä¸­åµŒå…¥å›¾ç‰‡æˆ–è€…å…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ Webå¼€å‘å†…ï¼Œå°†å°å›¾ç‰‡ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚ åœ¨ç¼–ç¨‹è¯­è¨€å†…ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å’Œè§£ç ã€‚ å…³äºBase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜ Base64ç¼–ç ä¼˜ç¼ºç‚¹ Base64ç¼–ç åçš„å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆä¼šå˜é•¿ï¼Ÿ Base64ç¼–ç åçš„å­—ç¬¦ä¸²æœ«å°¾ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œ=â€å·ï¼Ÿ Base64 Alphabet Pythonä»£ç å®ç°Base64ç¼–ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 def base(string:str)->str: oldstr = '' newstr = [] base = '' base64_list = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P','Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v','w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/'] #æŠŠåŸå§‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç”¨binè½¬æ¢åæ˜¯0bå¼€å¤´çš„ï¼Œæ‰€ä»¥æŠŠbæ›¿æ¢äº†ï¼Œé¦–ä½è¡¥0è¡¥é½8ä½ for i in string: oldstr += '{:08}'.format(int(str(bin(ord(i))).replace('0b', ''))) #æŠŠè½¬æ¢å¥½çš„äºŒè¿›åˆ¶æŒ‰ç…§6ä½ä¸€ç»„åˆ†å¥½ï¼Œæœ€åä¸€ç»„ä¸è¶³6ä½çš„åé¢è¡¥0 for j in range(0, len(oldstr), 6): newstr.append('{:<06}'.format(oldstr[j:j + 6])) #åœ¨base_listä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæ‹¼æ¥ for l in range(len(newstr)): base += base64_list[int(newstr[l], 2)] #åˆ¤æ–­baseå­—ç¬¦ç»“å°¾è¡¥å‡ ä¸ªâ€˜=â€™ if len(string) % 3 == 1: base += '==' elif len(string) % 3 == 2: base += '=' return base Base64åŒ…å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 import base64 from pathlib import Path def base64_converter(text, mode='encode', output_path=None): &#34;&#34;&#34; å¤„ç†base64ç¼–è§£ç çš„å‡½æ•° å‚æ•°: text (str/Path/bytes): è¦å¤„ç†çš„æ–‡æœ¬ã€å›¾ç‰‡æ–‡ä»¶è·¯å¾„æˆ–base64ç¼–ç çš„bytes mode (str): 'encode' ç”¨äºç¼–ç ï¼Œ'decode' ç”¨äºè§£ç  output_path (str/Path): è§£ç å›¾ç‰‡æ—¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºNone &#34;&#34;&#34; # å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸² if isinstance(text, str) and not Path(text).is_file(): if mode == 'encode': text_bytes = text.encode('utf-8') encoded = base64.b64encode(text_bytes) return encoded.decode('utf-8') else: decoded = base64.b64decode(text) return decoded.decode('utf-8') # å¤„ç†å›¾ç‰‡æ–‡ä»¶æˆ–bytesæ•°æ® if mode == 'encode': if isinstance(text, bytes): return base64.b64encode(text) with open(text, 'rb') as image_file: return base64.b64encode(image_file.read()) else: # ä½¿ç”¨æŒ‡å®šçš„è¾“å‡ºè·¯å¾„æˆ–å½“å‰ç›®å½• save_path = Path(output_path) if output_path else Path.cwd() / &#34;decoded_image.png&#34; save_path.parent.mkdir(parents=True, exist_ok=True) # è§£ç å¹¶ä¿å­˜å›¾ç‰‡ if isinstance(text, bytes): image_data = base64.b64decode(text) else: image_data = base64.b64decode(text.encode('ascii') if isinstance(text, str) else text) with open(save_path, 'wb') as image_file: image_file.write(image_data) return f&#34;å›¾ç‰‡å·²ä¿å­˜åˆ°: {save_path.absolute()}&#34; if __name__ == &#34;__main__&#34;: # æ–‡æœ¬ç¼–è§£ç æµ‹è¯• result = base64_converter(&#34;Hello, World!&#34;, mode='encode') print(&#34;ç¼–ç ç»“æœ:&#34;, result) decoded = base64_converter(result, mode='decode') print(&#34;è§£ç ç»“æœ:&#34;, decoded) # å›¾ç‰‡ç¼–è§£ç æµ‹è¯• test_image_path = &#34;test.png&#34; if Path(test_image_path).exists(): # ç¼–ç å›¾ç‰‡ image_base64 = base64_converter(test_image_path, mode='encode') # è§£ç åˆ°è¾“å‡ºæ–‡ä»¶ result = base64_converter(image_base64, mode='decode', output_path=&#34;decoded_test.png&#34;) print(result) "><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="knowledge"><meta property="article:published_time" content="2024-11-24T02:53:00+00:00"><meta property="article:modified_time" content="2024-11-25T01:10:00+00:00"><meta property="article:tag" content="Knowledge"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä»€ä¹ˆæ˜¯Base64"><meta name=twitter:description content="
ğŸ’¡ è®°å½•ä¸€ä¸‹Base64åŸç†ï¼Œä¼˜ç‚¹ä¹‹ç±»çš„ã€‚


æ¦‚å¿µè§£é‡Š
Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚
å¸¸ç”¨äºåœ¨ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„åœºåˆï¼ˆå¦‚ç”µå­é‚®ä»¶ã€URLç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚

åº”ç”¨åœºæ™¯

ç”µå­é‚®ä»¶ä¸­åµŒå…¥å›¾ç‰‡æˆ–è€…å…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚
Webå¼€å‘å†…ï¼Œå°†å°å›¾ç‰‡ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚
åœ¨ç¼–ç¨‹è¯­è¨€å†…ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å’Œè§£ç ã€‚

å…³äºBase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜

Base64ç¼–ç ä¼˜ç¼ºç‚¹
Base64ç¼–ç åçš„å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆä¼šå˜é•¿ï¼Ÿ
Base64ç¼–ç åçš„å­—ç¬¦ä¸²æœ«å°¾ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œ=â€å·ï¼Ÿ


Base64 Alphabet
Pythonä»£ç å®ç°Base64ç¼–ç 


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21


def base(string:str)->str:
    oldstr = ''
    newstr = []
    base = ''
    base64_list = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P','Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',
'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v','w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/']
    #æŠŠåŸå§‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç”¨binè½¬æ¢åæ˜¯0bå¼€å¤´çš„ï¼Œæ‰€ä»¥æŠŠbæ›¿æ¢äº†ï¼Œé¦–ä½è¡¥0è¡¥é½8ä½
    for i in string:
        oldstr += '{:08}'.format(int(str(bin(ord(i))).replace('0b', '')))
    #æŠŠè½¬æ¢å¥½çš„äºŒè¿›åˆ¶æŒ‰ç…§6ä½ä¸€ç»„åˆ†å¥½ï¼Œæœ€åä¸€ç»„ä¸è¶³6ä½çš„åé¢è¡¥0
    for j in range(0, len(oldstr), 6):
        newstr.append('{:<06}'.format(oldstr[j:j + 6]))
    #åœ¨base_listä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæ‹¼æ¥
    for l in range(len(newstr)):
        base += base64_list[int(newstr[l], 2)]
    #åˆ¤æ–­baseå­—ç¬¦ç»“å°¾è¡¥å‡ ä¸ªâ€˜=â€™
    if len(string) % 3 == 1:
        base += '=='
    elif len(string) % 3 == 2:
        base += '='
    return  base


Base64åŒ…å®ç°


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58


import base64
from pathlib import Path

def base64_converter(text, mode='encode', output_path=None):
    &#34;&#34;&#34;
    å¤„ç†base64ç¼–è§£ç çš„å‡½æ•°
    
    å‚æ•°:
        text (str/Path/bytes): è¦å¤„ç†çš„æ–‡æœ¬ã€å›¾ç‰‡æ–‡ä»¶è·¯å¾„æˆ–base64ç¼–ç çš„bytes
        mode (str): 'encode' ç”¨äºç¼–ç ï¼Œ'decode' ç”¨äºè§£ç 
        output_path (str/Path): è§£ç å›¾ç‰‡æ—¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºNone
    &#34;&#34;&#34;
    # å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸²
    if isinstance(text, str) and not Path(text).is_file():
        if mode == 'encode':
            text_bytes = text.encode('utf-8')
            encoded = base64.b64encode(text_bytes)
            return encoded.decode('utf-8')
        else:
            decoded = base64.b64decode(text)
            return decoded.decode('utf-8')
    
    # å¤„ç†å›¾ç‰‡æ–‡ä»¶æˆ–bytesæ•°æ®
    if mode == 'encode':
        if isinstance(text, bytes):
            return base64.b64encode(text)
        with open(text, 'rb') as image_file:
            return base64.b64encode(image_file.read())
    else:
        # ä½¿ç”¨æŒ‡å®šçš„è¾“å‡ºè·¯å¾„æˆ–å½“å‰ç›®å½•
        save_path = Path(output_path) if output_path else Path.cwd() / &#34;decoded_image.png&#34;
        save_path.parent.mkdir(parents=True, exist_ok=True)
        
        # è§£ç å¹¶ä¿å­˜å›¾ç‰‡
        if isinstance(text, bytes):
            image_data = base64.b64decode(text)
        else:
            image_data = base64.b64decode(text.encode('ascii') if isinstance(text, str) else text)
        
        with open(save_path, 'wb') as image_file:
            image_file.write(image_data)
        return f&#34;å›¾ç‰‡å·²ä¿å­˜åˆ°: {save_path.absolute()}&#34;

if __name__ == &#34;__main__&#34;:
    # æ–‡æœ¬ç¼–è§£ç æµ‹è¯•
    result = base64_converter(&#34;Hello, World!&#34;, mode='encode')
    print(&#34;ç¼–ç ç»“æœ:&#34;, result)
    decoded = base64_converter(result, mode='decode')
    print(&#34;è§£ç ç»“æœ:&#34;, decoded)
    
    # å›¾ç‰‡ç¼–è§£ç æµ‹è¯•
    test_image_path = &#34;test.png&#34;
    if Path(test_image_path).exists():
        # ç¼–ç å›¾ç‰‡
        image_base64 = base64_converter(test_image_path, mode='encode')
        # è§£ç åˆ°è¾“å‡ºæ–‡ä»¶
        result = base64_converter(image_base64, mode='decode', output_path=&#34;decoded_test.png&#34;)
        print(result)



"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Knowledges","item":"https://Pan-Binghong.github.io/daily-learning/knowledge/"},{"@type":"ListItem","position":2,"name":"ä»€ä¹ˆæ˜¯Base64","item":"https://Pan-Binghong.github.io/daily-learning/knowledge/%E4%BB%80%E4%B9%88%E6%98%AFbase64/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ä»€ä¹ˆæ˜¯Base64","name":"ä»€ä¹ˆæ˜¯Base64","description":" ğŸ’¡ è®°å½•ä¸€ä¸‹Base64åŸç†ï¼Œä¼˜ç‚¹ä¹‹ç±»çš„ã€‚\næ¦‚å¿µè§£é‡Š Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚\nå¸¸ç”¨äºåœ¨ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„åœºåˆï¼ˆå¦‚ç”µå­é‚®ä»¶ã€URLç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚\nåº”ç”¨åœºæ™¯ ç”µå­é‚®ä»¶ä¸­åµŒå…¥å›¾ç‰‡æˆ–è€…å…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ Webå¼€å‘å†…ï¼Œå°†å°å›¾ç‰‡ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚ åœ¨ç¼–ç¨‹è¯­è¨€å†…ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å’Œè§£ç ã€‚ å…³äºBase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜ Base64ç¼–ç ä¼˜ç¼ºç‚¹ Base64ç¼–ç åçš„å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆä¼šå˜é•¿ï¼Ÿ Base64ç¼–ç åçš„å­—ç¬¦ä¸²æœ«å°¾ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œ=â€å·ï¼Ÿ Base64 Alphabet Pythonä»£ç å®ç°Base64ç¼–ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 def base(string:str)-\u0026gt;str: oldstr = \u0026#39;\u0026#39; newstr = [] base = \u0026#39;\u0026#39; base64_list = [\u0026#39;A\u0026#39;, \u0026#39;B\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;D\u0026#39;, \u0026#39;E\u0026#39;, \u0026#39;F\u0026#39;, \u0026#39;G\u0026#39;, \u0026#39;H\u0026#39;, \u0026#39;I\u0026#39;, \u0026#39;J\u0026#39;, \u0026#39;K\u0026#39;, \u0026#39;L\u0026#39;, \u0026#39;M\u0026#39;, \u0026#39;N\u0026#39;, \u0026#39;O\u0026#39;, \u0026#39;P\u0026#39;,\u0026#39;Q\u0026#39;, \u0026#39;R\u0026#39;, \u0026#39;S\u0026#39;, \u0026#39;T\u0026#39;, \u0026#39;U\u0026#39;, \u0026#39;V\u0026#39;, \u0026#39;W\u0026#39;, \u0026#39;X\u0026#39;, \u0026#39;Y\u0026#39;, \u0026#39;Z\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;f\u0026#39;, \u0026#39;g\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;i\u0026#39;, \u0026#39;j\u0026#39;, \u0026#39;k\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;m\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;p\u0026#39;, \u0026#39;q\u0026#39;, \u0026#39;r\u0026#39;, \u0026#39;s\u0026#39;, \u0026#39;t\u0026#39;, \u0026#39;u\u0026#39;, \u0026#39;v\u0026#39;,\u0026#39;w\u0026#39;, \u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;, \u0026#39;z\u0026#39;, \u0026#39;0\u0026#39;, \u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;, \u0026#39;3\u0026#39;, \u0026#39;4\u0026#39;, \u0026#39;5\u0026#39;, \u0026#39;6\u0026#39;, \u0026#39;7\u0026#39;, \u0026#39;8\u0026#39;, \u0026#39;9\u0026#39;, \u0026#39;+\u0026#39;, \u0026#39;/\u0026#39;] #æŠŠåŸå§‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç”¨binè½¬æ¢åæ˜¯0bå¼€å¤´çš„ï¼Œæ‰€ä»¥æŠŠbæ›¿æ¢äº†ï¼Œé¦–ä½è¡¥0è¡¥é½8ä½ for i in string: oldstr += \u0026#39;{:08}\u0026#39;.format(int(str(bin(ord(i))).replace(\u0026#39;0b\u0026#39;, \u0026#39;\u0026#39;))) #æŠŠè½¬æ¢å¥½çš„äºŒè¿›åˆ¶æŒ‰ç…§6ä½ä¸€ç»„åˆ†å¥½ï¼Œæœ€åä¸€ç»„ä¸è¶³6ä½çš„åé¢è¡¥0 for j in range(0, len(oldstr), 6): newstr.append(\u0026#39;{:\u0026lt;06}\u0026#39;.format(oldstr[j:j + 6])) #åœ¨base_listä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæ‹¼æ¥ for l in range(len(newstr)): base += base64_list[int(newstr[l], 2)] #åˆ¤æ–­baseå­—ç¬¦ç»“å°¾è¡¥å‡ ä¸ªâ€˜=â€™ if len(string) % 3 == 1: base += \u0026#39;==\u0026#39; elif len(string) % 3 == 2: base += \u0026#39;=\u0026#39; return base Base64åŒ…å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 import base64 from pathlib import Path def base64_converter(text, mode=\u0026#39;encode\u0026#39;, output_path=None): \u0026#34;\u0026#34;\u0026#34; å¤„ç†base64ç¼–è§£ç çš„å‡½æ•° å‚æ•°: text (str/Path/bytes): è¦å¤„ç†çš„æ–‡æœ¬ã€å›¾ç‰‡æ–‡ä»¶è·¯å¾„æˆ–base64ç¼–ç çš„bytes mode (str): \u0026#39;encode\u0026#39; ç”¨äºç¼–ç ï¼Œ\u0026#39;decode\u0026#39; ç”¨äºè§£ç  output_path (str/Path): è§£ç å›¾ç‰‡æ—¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºNone \u0026#34;\u0026#34;\u0026#34; # å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸² if isinstance(text, str) and not Path(text).is_file(): if mode == \u0026#39;encode\u0026#39;: text_bytes = text.encode(\u0026#39;utf-8\u0026#39;) encoded = base64.b64encode(text_bytes) return encoded.decode(\u0026#39;utf-8\u0026#39;) else: decoded = base64.b64decode(text) return decoded.decode(\u0026#39;utf-8\u0026#39;) # å¤„ç†å›¾ç‰‡æ–‡ä»¶æˆ–bytesæ•°æ® if mode == \u0026#39;encode\u0026#39;: if isinstance(text, bytes): return base64.b64encode(text) with open(text, \u0026#39;rb\u0026#39;) as image_file: return base64.b64encode(image_file.read()) else: # ä½¿ç”¨æŒ‡å®šçš„è¾“å‡ºè·¯å¾„æˆ–å½“å‰ç›®å½• save_path = Path(output_path) if output_path else Path.cwd() / \u0026#34;decoded_image.png\u0026#34; save_path.parent.mkdir(parents=True, exist_ok=True) # è§£ç å¹¶ä¿å­˜å›¾ç‰‡ if isinstance(text, bytes): image_data = base64.b64decode(text) else: image_data = base64.b64decode(text.encode(\u0026#39;ascii\u0026#39;) if isinstance(text, str) else text) with open(save_path, \u0026#39;wb\u0026#39;) as image_file: image_file.write(image_data) return f\u0026#34;å›¾ç‰‡å·²ä¿å­˜åˆ°: {save_path.absolute()}\u0026#34; if __name__ == \u0026#34;__main__\u0026#34;: # æ–‡æœ¬ç¼–è§£ç æµ‹è¯• result = base64_converter(\u0026#34;Hello, World!\u0026#34;, mode=\u0026#39;encode\u0026#39;) print(\u0026#34;ç¼–ç ç»“æœ:\u0026#34;, result) decoded = base64_converter(result, mode=\u0026#39;decode\u0026#39;) print(\u0026#34;è§£ç ç»“æœ:\u0026#34;, decoded) # å›¾ç‰‡ç¼–è§£ç æµ‹è¯• test_image_path = \u0026#34;test.png\u0026#34; if Path(test_image_path).exists(): # ç¼–ç å›¾ç‰‡ image_base64 = base64_converter(test_image_path, mode=\u0026#39;encode\u0026#39;) # è§£ç åˆ°è¾“å‡ºæ–‡ä»¶ result = base64_converter(image_base64, mode=\u0026#39;decode\u0026#39;, output_path=\u0026#34;decoded_test.png\u0026#34;) print(result) ","keywords":["Knowledge"],"articleBody":" ğŸ’¡ è®°å½•ä¸€ä¸‹Base64åŸç†ï¼Œä¼˜ç‚¹ä¹‹ç±»çš„ã€‚\næ¦‚å¿µè§£é‡Š Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚\nå¸¸ç”¨äºåœ¨ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„åœºåˆï¼ˆå¦‚ç”µå­é‚®ä»¶ã€URLç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚\nåº”ç”¨åœºæ™¯ ç”µå­é‚®ä»¶ä¸­åµŒå…¥å›¾ç‰‡æˆ–è€…å…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ Webå¼€å‘å†…ï¼Œå°†å°å›¾ç‰‡ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚ åœ¨ç¼–ç¨‹è¯­è¨€å†…ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å’Œè§£ç ã€‚ å…³äºBase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜ Base64ç¼–ç ä¼˜ç¼ºç‚¹ Base64ç¼–ç åçš„å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆä¼šå˜é•¿ï¼Ÿ Base64ç¼–ç åçš„å­—ç¬¦ä¸²æœ«å°¾ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œ=â€å·ï¼Ÿ Base64 Alphabet Pythonä»£ç å®ç°Base64ç¼–ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 def base(string:str)-\u003estr: oldstr = '' newstr = [] base = '' base64_list = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P','Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v','w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/'] #æŠŠåŸå§‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç”¨binè½¬æ¢åæ˜¯0bå¼€å¤´çš„ï¼Œæ‰€ä»¥æŠŠbæ›¿æ¢äº†ï¼Œé¦–ä½è¡¥0è¡¥é½8ä½ for i in string: oldstr += '{:08}'.format(int(str(bin(ord(i))).replace('0b', ''))) #æŠŠè½¬æ¢å¥½çš„äºŒè¿›åˆ¶æŒ‰ç…§6ä½ä¸€ç»„åˆ†å¥½ï¼Œæœ€åä¸€ç»„ä¸è¶³6ä½çš„åé¢è¡¥0 for j in range(0, len(oldstr), 6): newstr.append('{:\u003c06}'.format(oldstr[j:j + 6])) #åœ¨base_listä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæ‹¼æ¥ for l in range(len(newstr)): base += base64_list[int(newstr[l], 2)] #åˆ¤æ–­baseå­—ç¬¦ç»“å°¾è¡¥å‡ ä¸ªâ€˜=â€™ if len(string) % 3 == 1: base += '==' elif len(string) % 3 == 2: base += '=' return base Base64åŒ…å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 import base64 from pathlib import Path def base64_converter(text, mode='encode', output_path=None): \"\"\" å¤„ç†base64ç¼–è§£ç çš„å‡½æ•° å‚æ•°: text (str/Path/bytes): è¦å¤„ç†çš„æ–‡æœ¬ã€å›¾ç‰‡æ–‡ä»¶è·¯å¾„æˆ–base64ç¼–ç çš„bytes mode (str): 'encode' ç”¨äºç¼–ç ï¼Œ'decode' ç”¨äºè§£ç  output_path (str/Path): è§£ç å›¾ç‰‡æ—¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºNone \"\"\" # å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸² if isinstance(text, str) and not Path(text).is_file(): if mode == 'encode': text_bytes = text.encode('utf-8') encoded = base64.b64encode(text_bytes) return encoded.decode('utf-8') else: decoded = base64.b64decode(text) return decoded.decode('utf-8') # å¤„ç†å›¾ç‰‡æ–‡ä»¶æˆ–bytesæ•°æ® if mode == 'encode': if isinstance(text, bytes): return base64.b64encode(text) with open(text, 'rb') as image_file: return base64.b64encode(image_file.read()) else: # ä½¿ç”¨æŒ‡å®šçš„è¾“å‡ºè·¯å¾„æˆ–å½“å‰ç›®å½• save_path = Path(output_path) if output_path else Path.cwd() / \"decoded_image.png\" save_path.parent.mkdir(parents=True, exist_ok=True) # è§£ç å¹¶ä¿å­˜å›¾ç‰‡ if isinstance(text, bytes): image_data = base64.b64decode(text) else: image_data = base64.b64decode(text.encode('ascii') if isinstance(text, str) else text) with open(save_path, 'wb') as image_file: image_file.write(image_data) return f\"å›¾ç‰‡å·²ä¿å­˜åˆ°: {save_path.absolute()}\" if __name__ == \"__main__\": # æ–‡æœ¬ç¼–è§£ç æµ‹è¯• result = base64_converter(\"Hello, World!\", mode='encode') print(\"ç¼–ç ç»“æœ:\", result) decoded = base64_converter(result, mode='decode') print(\"è§£ç ç»“æœ:\", decoded) # å›¾ç‰‡ç¼–è§£ç æµ‹è¯• test_image_path = \"test.png\" if Path(test_image_path).exists(): # ç¼–ç å›¾ç‰‡ image_base64 = base64_converter(test_image_path, mode='encode') # è§£ç åˆ°è¾“å‡ºæ–‡ä»¶ result = base64_converter(image_base64, mode='decode', output_path=\"decoded_test.png\") print(result) ç¤ºä¾‹ ç¼–ç Mançš„ç»“æœä¸ºTWFuï¼Œè¯¦ç»†åŸç†å¦‚ä¸‹ï¼š ç‰¹æ®Šå½¢å¼ Reference\n","wordCount":"373","inLanguage":"en","datePublished":"2024-11-24T02:53:00Z","dateModified":"2024-11-25T01:10:00Z","author":{"@type":"Person","name":"Pan Binghong"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://Pan-Binghong.github.io/daily-learning/knowledge/%E4%BB%80%E4%B9%88%E6%98%AFbase64/"},"publisher":{"@type":"Organization","name":"æˆ‘çš„åšå®¢","logo":{"@type":"ImageObject","url":"https://Pan-Binghong.github.io/daily-learning/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://Pan-Binghong.github.io/daily-learning/ accesskey=h title="æˆ‘çš„åšå®¢ (Alt + H)">æˆ‘çš„åšå®¢</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Pan-Binghong.github.io/daily-learning/ title=é¦–é¡µ><span>é¦–é¡µ</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/ai/ title=AI><span>AI</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/knowledge/ title=çŸ¥è¯†åº“><span>çŸ¥è¯†åº“</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/backend/ title=åç«¯><span>åç«¯</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://Pan-Binghong.github.io/daily-learning/other/ title=å…¶ä»–><span>å…¶ä»–</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">ä»€ä¹ˆæ˜¯Base64</h1><div class=post-meta><span title='2024-11-24 02:53:00 +0000 UTC'>November 24, 2024</span>&nbsp;Â·&nbsp;<span>Pan Binghong</span></div></header><div class=post-content><blockquote><p>ğŸ’¡ è®°å½•ä¸€ä¸‹Base64åŸç†ï¼Œä¼˜ç‚¹ä¹‹ç±»çš„ã€‚</p></blockquote><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/5acec283-4306-4186-b12a-36c0dd599f63/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JAIU7H3%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDXaIXgZxGPsyLYMmedy9zgFSAf4WteoN2EwVVkVGAo9AiEAzl%2BJ24S1ptGU%2F8hHioTOkBErIebl%2Flu2vIMNMBbgMfkqiAQIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNspAVsMp1jloYQxoCrcA4qwk%2BH8MAj9v7koRkfBypmGNtkG07OHeQW72%2F9CAEg1c8JA2nt5YCXjJAxXtTK4YngR3hPa1hwnlZwWr2NT2gIph5BDPUfNYCFXouaQLfBxQu1M%2FK4mlHScKp1DaA%2BXrDjDsMdSYIR6mRvwwHYAymjzHT3l4Rk2Av1vH5CsAtLWI1W8vGr8du67rHxQOoLZ9xqN2SOfo6YgkvNEctI4hNi9BYJWtpcpD1R9E676hML57j6z87h9AJpe6bVyQt3iSwdxJyqvY7qOVBkDaP7%2FP8e5%2F9oW%2FAf%2BNFajiybwUZcUHFH6n4pKliUrxsMd5rLErpTviQfiI6tXOmfEWiob%2B5hcz8RlPfwUwJKebLnIJfqgRALtVbhPyfNIt8wqMpf8scPGhnNDKPmt%2B%2FKW%2FcmklCDZPOaqOBaM0J6NUcv9aj4yu0zr9P3D7TyRgOPEEZ5g8IgDgVgD0t4VFpR%2B0qFYWOh9bmxDciplBNF2rLtBlsspEjG3B9S3PL%2FztJJLw7fPMkaEU9MhwA%2FKQGuBdUqxN3u3H6NVN3Gza%2FlYEms4z2yyPA7Uq0GfPIC8ZmkoFciL%2FTE4nTF9akXExNwYvmU7zJTWk1WxPvJ9Vd%2BnInhDPumvcZT0cDHvHjb8yoQoMKXyr8gGOqUB3bemIJTfCqh%2FMjXuFt1PJ5ugFinPfxs%2FknFTcHPZRkllZOx8jPwfFEvpmZgfJQ6o%2BxoW6ZsYAeys2f2EptiodYkGMs%2BESOmnBkk61EzFaugYJ2%2FhC7y7D6o9LkOzPAWyWNbKLD3GhGST4thFVDocXmHTHgGiIbtaIdd%2BSk0aYOj9AxkTexXOpqr6RalvrZHKwlI20zon%2Fe2SbeQYe9bF5X%2BTitbX&X-Amz-Signature=f0139c257a3a3e558f4d2145cbd65dba708ece25ad5d7868ae1dd9b46d4203c9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><h2 id=æ¦‚å¿µè§£é‡Š>æ¦‚å¿µè§£é‡Š<a hidden class=anchor aria-hidden=true href=#æ¦‚å¿µè§£é‡Š>#</a></h2><p>Base64æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•ã€‚</p><p>å¸¸ç”¨äºåœ¨ä¸æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„åœºåˆï¼ˆå¦‚ç”µå­é‚®ä»¶ã€URLç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ã€‚</p><hr><h2 id=åº”ç”¨åœºæ™¯>åº”ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#åº”ç”¨åœºæ™¯>#</a></h2><ul><li>ç”µå­é‚®ä»¶ä¸­åµŒå…¥å›¾ç‰‡æˆ–è€…å…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li><li>Webå¼€å‘å†…ï¼Œå°†å°å›¾ç‰‡ç¼–ç ä¸ºBase64å­—ç¬¦ä¸²ï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚</li><li>åœ¨ç¼–ç¨‹è¯­è¨€å†…ï¼Œç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç å’Œè§£ç ã€‚</li></ul><h3 id=å…³äºbase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜>å…³äºBase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜<a hidden class=anchor aria-hidden=true href=#å…³äºbase64ç¼–ç æ ¼å¼çš„ç»å…¸é—®é¢˜>#</a></h3><ol><li>Base64ç¼–ç ä¼˜ç¼ºç‚¹</li><li>Base64ç¼–ç åçš„å­—ç¬¦ä¸²ä¸ºä»€ä¹ˆä¼šå˜é•¿ï¼Ÿ</li><li>Base64ç¼–ç åçš„å­—ç¬¦ä¸²æœ«å°¾ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œ=â€å·ï¼Ÿ</li></ol><hr><h2 id=base64-alphabet>Base64 Alphabet<a hidden class=anchor aria-hidden=true href=#base64-alphabet>#</a></h2><h2 id=pythonä»£ç å®ç°base64ç¼–ç >Pythonä»£ç å®ç°Base64ç¼–ç <a hidden class=anchor aria-hidden=true href=#pythonä»£ç å®ç°base64ç¼–ç >#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>base</span>(string:str)<span style=color:#f92672>-&gt;</span>str:
</span></span><span style=display:flex><span>    oldstr <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>    newstr <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    base <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>    base64_list <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;A&#39;</span>, <span style=color:#e6db74>&#39;B&#39;</span>, <span style=color:#e6db74>&#39;C&#39;</span>, <span style=color:#e6db74>&#39;D&#39;</span>, <span style=color:#e6db74>&#39;E&#39;</span>, <span style=color:#e6db74>&#39;F&#39;</span>, <span style=color:#e6db74>&#39;G&#39;</span>, <span style=color:#e6db74>&#39;H&#39;</span>, <span style=color:#e6db74>&#39;I&#39;</span>, <span style=color:#e6db74>&#39;J&#39;</span>, <span style=color:#e6db74>&#39;K&#39;</span>, <span style=color:#e6db74>&#39;L&#39;</span>, <span style=color:#e6db74>&#39;M&#39;</span>, <span style=color:#e6db74>&#39;N&#39;</span>, <span style=color:#e6db74>&#39;O&#39;</span>, <span style=color:#e6db74>&#39;P&#39;</span>,<span style=color:#e6db74>&#39;Q&#39;</span>, <span style=color:#e6db74>&#39;R&#39;</span>, <span style=color:#e6db74>&#39;S&#39;</span>, <span style=color:#e6db74>&#39;T&#39;</span>, <span style=color:#e6db74>&#39;U&#39;</span>, <span style=color:#e6db74>&#39;V&#39;</span>, <span style=color:#e6db74>&#39;W&#39;</span>, <span style=color:#e6db74>&#39;X&#39;</span>, <span style=color:#e6db74>&#39;Y&#39;</span>, <span style=color:#e6db74>&#39;Z&#39;</span>, <span style=color:#e6db74>&#39;a&#39;</span>, <span style=color:#e6db74>&#39;b&#39;</span>, <span style=color:#e6db74>&#39;c&#39;</span>, <span style=color:#e6db74>&#39;d&#39;</span>, <span style=color:#e6db74>&#39;e&#39;</span>, <span style=color:#e6db74>&#39;f&#39;</span>,
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;g&#39;</span>, <span style=color:#e6db74>&#39;h&#39;</span>, <span style=color:#e6db74>&#39;i&#39;</span>, <span style=color:#e6db74>&#39;j&#39;</span>, <span style=color:#e6db74>&#39;k&#39;</span>, <span style=color:#e6db74>&#39;l&#39;</span>, <span style=color:#e6db74>&#39;m&#39;</span>, <span style=color:#e6db74>&#39;n&#39;</span>, <span style=color:#e6db74>&#39;o&#39;</span>, <span style=color:#e6db74>&#39;p&#39;</span>, <span style=color:#e6db74>&#39;q&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>, <span style=color:#e6db74>&#39;s&#39;</span>, <span style=color:#e6db74>&#39;t&#39;</span>, <span style=color:#e6db74>&#39;u&#39;</span>, <span style=color:#e6db74>&#39;v&#39;</span>,<span style=color:#e6db74>&#39;w&#39;</span>, <span style=color:#e6db74>&#39;x&#39;</span>, <span style=color:#e6db74>&#39;y&#39;</span>, <span style=color:#e6db74>&#39;z&#39;</span>, <span style=color:#e6db74>&#39;0&#39;</span>, <span style=color:#e6db74>&#39;1&#39;</span>, <span style=color:#e6db74>&#39;2&#39;</span>, <span style=color:#e6db74>&#39;3&#39;</span>, <span style=color:#e6db74>&#39;4&#39;</span>, <span style=color:#e6db74>&#39;5&#39;</span>, <span style=color:#e6db74>&#39;6&#39;</span>, <span style=color:#e6db74>&#39;7&#39;</span>, <span style=color:#e6db74>&#39;8&#39;</span>, <span style=color:#e6db74>&#39;9&#39;</span>, <span style=color:#e6db74>&#39;+&#39;</span>, <span style=color:#e6db74>&#39;/&#39;</span>]
</span></span><span style=display:flex><span>    <span style=color:#75715e>#æŠŠåŸå§‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç”¨binè½¬æ¢åæ˜¯0bå¼€å¤´çš„ï¼Œæ‰€ä»¥æŠŠbæ›¿æ¢äº†ï¼Œé¦–ä½è¡¥0è¡¥é½8ä½</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> string:
</span></span><span style=display:flex><span>        oldstr <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;</span><span style=color:#e6db74>{:08}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(int(str(bin(ord(i)))<span style=color:#f92672>.</span>replace(<span style=color:#e6db74>&#39;0b&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>)))
</span></span><span style=display:flex><span>    <span style=color:#75715e>#æŠŠè½¬æ¢å¥½çš„äºŒè¿›åˆ¶æŒ‰ç…§6ä½ä¸€ç»„åˆ†å¥½ï¼Œæœ€åä¸€ç»„ä¸è¶³6ä½çš„åé¢è¡¥0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>0</span>, len(oldstr), <span style=color:#ae81ff>6</span>):
</span></span><span style=display:flex><span>        newstr<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#39;</span><span style=color:#e6db74>{:&lt;06}</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>format(oldstr[j:j <span style=color:#f92672>+</span> <span style=color:#ae81ff>6</span>]))
</span></span><span style=display:flex><span>    <span style=color:#75715e>#åœ¨base_listä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ï¼Œæ‹¼æ¥</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> l <span style=color:#f92672>in</span> range(len(newstr)):
</span></span><span style=display:flex><span>        base <span style=color:#f92672>+=</span> base64_list[int(newstr[l], <span style=color:#ae81ff>2</span>)]
</span></span><span style=display:flex><span>    <span style=color:#75715e>#åˆ¤æ–­baseå­—ç¬¦ç»“å°¾è¡¥å‡ ä¸ªâ€˜=â€™</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(string) <span style=color:#f92672>%</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>        base <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;==&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>elif</span> len(string) <span style=color:#f92672>%</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>        base <span style=color:#f92672>+=</span> <span style=color:#e6db74>&#39;=&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span>  base
</span></span></code></pre></td></tr></table></div></div><h2 id=base64åŒ…å®ç°>Base64åŒ…å®ç°<a hidden class=anchor aria-hidden=true href=#base64åŒ…å®ç°>#</a></h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> base64
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pathlib <span style=color:#f92672>import</span> Path
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>base64_converter</span>(text, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;encode&#39;</span>, output_path<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    å¤„ç†base64ç¼–è§£ç çš„å‡½æ•°
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    å‚æ•°:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        text (str/Path/bytes): è¦å¤„ç†çš„æ–‡æœ¬ã€å›¾ç‰‡æ–‡ä»¶è·¯å¾„æˆ–base64ç¼–ç çš„bytes
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        mode (str): &#39;encode&#39; ç”¨äºç¼–ç ï¼Œ&#39;decode&#39; ç”¨äºè§£ç 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        output_path (str/Path): è§£ç å›¾ç‰‡æ—¶çš„ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¸ºNone
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¤„ç†æ–‡æœ¬å­—ç¬¦ä¸²</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> isinstance(text, str) <span style=color:#f92672>and</span> <span style=color:#f92672>not</span> Path(text)<span style=color:#f92672>.</span>is_file():
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;encode&#39;</span>:
</span></span><span style=display:flex><span>            text_bytes <span style=color:#f92672>=</span> text<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>            encoded <span style=color:#f92672>=</span> base64<span style=color:#f92672>.</span>b64encode(text_bytes)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> encoded<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            decoded <span style=color:#f92672>=</span> base64<span style=color:#f92672>.</span>b64decode(text)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> decoded<span style=color:#f92672>.</span>decode(<span style=color:#e6db74>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¤„ç†å›¾ç‰‡æ–‡ä»¶æˆ–bytesæ•°æ®</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;encode&#39;</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> isinstance(text, bytes):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> base64<span style=color:#f92672>.</span>b64encode(text)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(text, <span style=color:#e6db74>&#39;rb&#39;</span>) <span style=color:#66d9ef>as</span> image_file:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> base64<span style=color:#f92672>.</span>b64encode(image_file<span style=color:#f92672>.</span>read())
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># ä½¿ç”¨æŒ‡å®šçš„è¾“å‡ºè·¯å¾„æˆ–å½“å‰ç›®å½•</span>
</span></span><span style=display:flex><span>        save_path <span style=color:#f92672>=</span> Path(output_path) <span style=color:#66d9ef>if</span> output_path <span style=color:#66d9ef>else</span> Path<span style=color:#f92672>.</span>cwd() <span style=color:#f92672>/</span> <span style=color:#e6db74>&#34;decoded_image.png&#34;</span>
</span></span><span style=display:flex><span>        save_path<span style=color:#f92672>.</span>parent<span style=color:#f92672>.</span>mkdir(parents<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, exist_ok<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e># è§£ç å¹¶ä¿å­˜å›¾ç‰‡</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> isinstance(text, bytes):
</span></span><span style=display:flex><span>            image_data <span style=color:#f92672>=</span> base64<span style=color:#f92672>.</span>b64decode(text)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            image_data <span style=color:#f92672>=</span> base64<span style=color:#f92672>.</span>b64decode(text<span style=color:#f92672>.</span>encode(<span style=color:#e6db74>&#39;ascii&#39;</span>) <span style=color:#66d9ef>if</span> isinstance(text, str) <span style=color:#66d9ef>else</span> text)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(save_path, <span style=color:#e6db74>&#39;wb&#39;</span>) <span style=color:#66d9ef>as</span> image_file:
</span></span><span style=display:flex><span>            image_file<span style=color:#f92672>.</span>write(image_data)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;å›¾ç‰‡å·²ä¿å­˜åˆ°: </span><span style=color:#e6db74>{</span>save_path<span style=color:#f92672>.</span>absolute()<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ–‡æœ¬ç¼–è§£ç æµ‹è¯•</span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> base64_converter(<span style=color:#e6db74>&#34;Hello, World!&#34;</span>, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;encode&#39;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;ç¼–ç ç»“æœ:&#34;</span>, result)
</span></span><span style=display:flex><span>    decoded <span style=color:#f92672>=</span> base64_converter(result, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;decode&#39;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;è§£ç ç»“æœ:&#34;</span>, decoded)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># å›¾ç‰‡ç¼–è§£ç æµ‹è¯•</span>
</span></span><span style=display:flex><span>    test_image_path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;test.png&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> Path(test_image_path)<span style=color:#f92672>.</span>exists():
</span></span><span style=display:flex><span>        <span style=color:#75715e># ç¼–ç å›¾ç‰‡</span>
</span></span><span style=display:flex><span>        image_base64 <span style=color:#f92672>=</span> base64_converter(test_image_path, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;encode&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#75715e># è§£ç åˆ°è¾“å‡ºæ–‡ä»¶</span>
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> base64_converter(image_base64, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;decode&#39;</span>, output_path<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;decoded_test.png&#34;</span>)
</span></span><span style=display:flex><span>        print(result)
</span></span></code></pre></td></tr></table></div></div><hr><p><img loading=lazy src="https://prod-files-secure.s3.us-west-2.amazonaws.com/fc187c04-cf34-444f-b5f2-bdcdfad76660/4816b9e8-8c12-4913-b787-d8fd71461dc7/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JAIU7H3%2F20251106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251106T014323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDXaIXgZxGPsyLYMmedy9zgFSAf4WteoN2EwVVkVGAo9AiEAzl%2BJ24S1ptGU%2F8hHioTOkBErIebl%2Flu2vIMNMBbgMfkqiAQIm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNspAVsMp1jloYQxoCrcA4qwk%2BH8MAj9v7koRkfBypmGNtkG07OHeQW72%2F9CAEg1c8JA2nt5YCXjJAxXtTK4YngR3hPa1hwnlZwWr2NT2gIph5BDPUfNYCFXouaQLfBxQu1M%2FK4mlHScKp1DaA%2BXrDjDsMdSYIR6mRvwwHYAymjzHT3l4Rk2Av1vH5CsAtLWI1W8vGr8du67rHxQOoLZ9xqN2SOfo6YgkvNEctI4hNi9BYJWtpcpD1R9E676hML57j6z87h9AJpe6bVyQt3iSwdxJyqvY7qOVBkDaP7%2FP8e5%2F9oW%2FAf%2BNFajiybwUZcUHFH6n4pKliUrxsMd5rLErpTviQfiI6tXOmfEWiob%2B5hcz8RlPfwUwJKebLnIJfqgRALtVbhPyfNIt8wqMpf8scPGhnNDKPmt%2B%2FKW%2FcmklCDZPOaqOBaM0J6NUcv9aj4yu0zr9P3D7TyRgOPEEZ5g8IgDgVgD0t4VFpR%2B0qFYWOh9bmxDciplBNF2rLtBlsspEjG3B9S3PL%2FztJJLw7fPMkaEU9MhwA%2FKQGuBdUqxN3u3H6NVN3Gza%2FlYEms4z2yyPA7Uq0GfPIC8ZmkoFciL%2FTE4nTF9akXExNwYvmU7zJTWk1WxPvJ9Vd%2BnInhDPumvcZT0cDHvHjb8yoQoMKXyr8gGOqUB3bemIJTfCqh%2FMjXuFt1PJ5ugFinPfxs%2FknFTcHPZRkllZOx8jPwfFEvpmZgfJQ6o%2BxoW6ZsYAeys2f2EptiodYkGMs%2BESOmnBkk61EzFaugYJ2%2FhC7y7D6o9LkOzPAWyWNbKLD3GhGST4thFVDocXmHTHgGiIbtaIdd%2BSk0aYOj9AxkTexXOpqr6RalvrZHKwlI20zon%2Fe2SbeQYe9bF5X%2BTitbX&X-Amz-Signature=7a17fbbd37bb2b8b73c1b701c16b9a924286d9d7967d1ebc436a353929fd4415&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject"></p><h2 id=ç¤ºä¾‹>ç¤ºä¾‹<a hidden class=anchor aria-hidden=true href=#ç¤ºä¾‹>#</a></h2><ul><li>ç¼–ç Mançš„ç»“æœä¸ºTWFuï¼Œè¯¦ç»†åŸç†å¦‚ä¸‹ï¼š</li><li>ç‰¹æ®Šå½¢å¼</li></ul><hr><blockquote><p>Reference</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://Pan-Binghong.github.io/daily-learning/tags/knowledge/>Knowledge</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://Pan-Binghong.github.io/daily-learning/>æˆ‘çš„åšå®¢</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>